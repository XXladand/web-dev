import{g as t}from"./@babel-Q_QrznUx.js";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var e=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n(t,e,a,n,o){if("string"==typeof t&&(t=document.getElementById(t)),!t||"object"!==r(t)||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=t.getContext("2d");try{return i.getImageData(e,a,n,o)}catch(g){throw new Error("unable to access image data: "+g)}}function o(t,r,e,a,o,g){if(!(isNaN(g)||g<1)){g|=0;var f=n(t,r,e,a,o);f=i(f,r,e,a,o,g),t.getContext("2d").putImageData(f,r,e)}}function i(t,r,n,o,i,g){for(var f,c=t.data,u=2*g+1,v=o-1,s=i-1,b=g+1,x=b*(b+1)/2,m=new l,p=m,y=1;y<u;y++)p=p.next=new l,y===b&&(f=p);p.next=m;for(var h=null,d=null,w=0,B=0,S=e[g],C=a[g],I=0;I<i;I++){p=m;for(var E=c[B],j=c[B+1],N=c[B+2],R=c[B+3],D=0;D<b;D++)p.r=E,p.g=j,p.b=N,p.a=R,p=p.next;for(var G=0,O=0,T=0,_=0,A=b*E,H=b*j,W=b*N,M=b*R,k=x*E,z=x*j,L=x*N,P=x*R,q=1;q<b;q++){var F=B+((v<q?v:q)<<2),J=c[F],K=c[F+1],Q=c[F+2],U=c[F+3],V=b-q;k+=(p.r=J)*V,z+=(p.g=K)*V,L+=(p.b=Q)*V,P+=(p.a=U)*V,G+=J,O+=K,T+=Q,_+=U,p=p.next}h=m,d=f;for(var X=0;X<o;X++){var Y=P*S>>>C;if(c[B+3]=Y,0!==Y){var Z=255/Y;c[B]=(k*S>>>C)*Z,c[B+1]=(z*S>>>C)*Z,c[B+2]=(L*S>>>C)*Z}else c[B]=c[B+1]=c[B+2]=0;k-=A,z-=H,L-=W,P-=M,A-=h.r,H-=h.g,W-=h.b,M-=h.a;var $=X+g+1;$=w+($<v?$:v)<<2,k+=G+=h.r=c[$],z+=O+=h.g=c[$+1],L+=T+=h.b=c[$+2],P+=_+=h.a=c[$+3],h=h.next;var tt=d,rt=tt.r,et=tt.g,at=tt.b,nt=tt.a;A+=rt,H+=et,W+=at,M+=nt,G-=rt,O-=et,T-=at,_-=nt,d=d.next,B+=4}w+=o}for(var ot=0;ot<o;ot++){var it=c[B=ot<<2],gt=c[B+1],ft=c[B+2],lt=c[B+3],ct=b*it,ut=b*gt,vt=b*ft,st=b*lt,bt=x*it,xt=x*gt,mt=x*ft,pt=x*lt;p=m;for(var yt=0;yt<b;yt++)p.r=it,p.g=gt,p.b=ft,p.a=lt,p=p.next;for(var ht=o,dt=0,wt=0,Bt=0,St=0,Ct=1;Ct<=g;Ct++){B=ht+ot<<2;var It=b-Ct;bt+=(p.r=it=c[B])*It,xt+=(p.g=gt=c[B+1])*It,mt+=(p.b=ft=c[B+2])*It,pt+=(p.a=lt=c[B+3])*It,St+=it,dt+=gt,wt+=ft,Bt+=lt,p=p.next,Ct<s&&(ht+=o)}B=ot,h=m,d=f;for(var Et=0;Et<i;Et++){var jt=B<<2;c[jt+3]=lt=pt*S>>>C,lt>0?(lt=255/lt,c[jt]=(bt*S>>>C)*lt,c[jt+1]=(xt*S>>>C)*lt,c[jt+2]=(mt*S>>>C)*lt):c[jt]=c[jt+1]=c[jt+2]=0,bt-=ct,xt-=ut,mt-=vt,pt-=st,ct-=h.r,ut-=h.g,vt-=h.b,st-=h.a,jt=ot+((jt=Et+b)<s?jt:s)*o<<2,bt+=St+=h.r=c[jt],xt+=dt+=h.g=c[jt+1],mt+=wt+=h.b=c[jt+2],pt+=Bt+=h.a=c[jt+3],h=h.next,ct+=it=d.r,ut+=gt=d.g,vt+=ft=d.b,st+=lt=d.a,St-=it,dt-=gt,wt-=ft,Bt-=lt,d=d.next,B+=o}}return t}function g(t,r,e,a,o,i){if(!(isNaN(i)||i<1)){i|=0;var g=n(t,r,e,a,o);g=f(g,r,e,a,o,i),t.getContext("2d").putImageData(g,r,e)}}function f(t,r,n,o,i,g){for(var f,c=t.data,u=2*g+1,v=o-1,s=i-1,b=g+1,x=b*(b+1)/2,m=new l,p=m,y=1;y<u;y++)p=p.next=new l,y===b&&(f=p);p.next=m;for(var h,d,w=null,B=null,S=e[g],C=a[g],I=0,E=0,j=0;j<i;j++){var N=c[E],R=c[E+1],D=c[E+2],G=b*N,O=b*R,T=b*D,_=x*N,A=x*R,H=x*D;p=m;for(var W=0;W<b;W++)p.r=N,p.g=R,p.b=D,p=p.next;for(var M=0,k=0,z=0,L=1;L<b;L++)h=E+((v<L?v:L)<<2),_+=(p.r=N=c[h])*(d=b-L),A+=(p.g=R=c[h+1])*d,H+=(p.b=D=c[h+2])*d,M+=N,k+=R,z+=D,p=p.next;w=m,B=f;for(var P=0;P<o;P++)c[E]=_*S>>>C,c[E+1]=A*S>>>C,c[E+2]=H*S>>>C,_-=G,A-=O,H-=T,G-=w.r,O-=w.g,T-=w.b,h=I+((h=P+g+1)<v?h:v)<<2,_+=M+=w.r=c[h],A+=k+=w.g=c[h+1],H+=z+=w.b=c[h+2],w=w.next,G+=N=B.r,O+=R=B.g,T+=D=B.b,M-=N,k-=R,z-=D,B=B.next,E+=4;I+=o}for(var q=0;q<o;q++){var F=c[E=q<<2],J=c[E+1],K=c[E+2],Q=b*F,U=b*J,V=b*K,X=x*F,Y=x*J,Z=x*K;p=m;for(var $=0;$<b;$++)p.r=F,p.g=J,p.b=K,p=p.next;for(var tt=0,rt=0,et=0,at=1,nt=o;at<=g;at++)E=nt+q<<2,X+=(p.r=F=c[E])*(d=b-at),Y+=(p.g=J=c[E+1])*d,Z+=(p.b=K=c[E+2])*d,tt+=F,rt+=J,et+=K,p=p.next,at<s&&(nt+=o);E=q,w=m,B=f;for(var ot=0;ot<i;ot++)c[h=E<<2]=X*S>>>C,c[h+1]=Y*S>>>C,c[h+2]=Z*S>>>C,X-=Q,Y-=U,Z-=V,Q-=w.r,U-=w.g,V-=w.b,h=q+((h=ot+b)<s?h:s)*o<<2,X+=tt+=w.r=c[h],Y+=rt+=w.g=c[h+1],Z+=et+=w.b=c[h+2],w=w.next,Q+=F=B.r,U+=J=B.g,V+=K=B.b,tt-=F,rt-=J,et-=K,B=B.next,E+=o}return t}var l=function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};const c=t(Object.freeze(Object.defineProperty({__proto__:null,BlurStack:l,canvasRGB:g,canvasRGBA:o,image:function(t,r,e,a,n,i){if("string"==typeof t&&(t=document.getElementById(t)),t&&("HTMLImageElement"!==Object.prototype.toString.call(t).slice(8,-1)||"naturalWidth"in t)){var f=n?"offset":"natural",l=t[f+"Width"],c=t[f+"Height"];if("ImageBitmap"===Object.prototype.toString.call(t).slice(8,-1)&&(l=t.width,c=t.height),"string"==typeof r&&(r=document.getElementById(r)),r&&"getContext"in r){i||(r.style.width=l+"px",r.style.height=c+"px"),r.width=l,r.height=c;var u=r.getContext("2d");u.clearRect(0,0,l,c),u.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,l,c),isNaN(e)||e<1||(a?o(r,0,0,l,c,e):g(r,0,0,l,c,e))}}},imageDataRGB:f,imageDataRGBA:i},Symbol.toStringTag,{value:"Module"})));export{o as p,c as r};

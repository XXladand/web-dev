import{g as e}from"./index-DWGcUZYU.js";import{A as a}from"./approval-flow-api-BPCG1yJd.js";import{S as l}from"./sys-code-gen-api-BI7DgiUl.js";import{S as o}from"./sys-database-api-V52ZKqx1.js";import{d as r,r as t,_ as s,j as i,ah as m,o as p,c as u,V as d,P as n,a as c,U as j,u as f,T as g,F as b,a8 as v,O as y}from"./@vue-CX_mlhJe.js";import{_}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";const w={class:"flow-container"},D={style:{color:"#fff"}},h={class:"dialog-footer"},S=_(r({__name:"editFormDialog",props:{title:{type:String,default:""}},emits:["reloadTable"],setup(r,{expose:_,emit:S}){var F=r;const x=S,k=t(),V=s({loading:!1,isShowDialog:!1,ruleSource:{},ruleForm:{},dbData:[],tableData:[],typeData:[{name:"Add",value:"add",description:"新增"},{name:"Update",value:"update",description:"更新"},{name:"Delete",value:"delete",description:"删除"},{name:"Select",value:"select",description:"查询"},{name:"Export",value:"export",description:"导出"}]});t({}),i((async()=>{var a=await e(l).apiSysCodeGenDatabaseListGet();V.dbData=a.data.result}));const I=()=>{V.isShowDialog=!1},N=async()=>{V.ruleSource.formJson=JSON.stringify(V.ruleForm),await e(a).apiApprovalFlowUpdatePost(V.ruleSource),x("reloadTable"),V.isShowDialog=!1},U=async()=>{if(""!==V.ruleForm.configId){var a=await e(o).apiSysDatabaseTableListConfigIdGet(V.ruleForm.configId);V.tableData=a.data.result??[]}};return _({openDialog:e=>{V.ruleSource=e,V.ruleForm=e.formJson?JSON.parse(e.formJson):{},V.isShowDialog=!0,U()}}),(e,a)=>{const l=m("ele-Edit"),o=m("el-icon"),r=m("el-option"),t=m("el-select"),s=m("el-form-item"),i=m("el-col"),_=m("el-row"),S=m("el-form"),x=m("el-button"),C=m("el-dialog");return p(),u("div",w,[d(C,{modelValue:V.isShowDialog,"onUpdate:modelValue":a[4]||(a[4]=e=>V.isShowDialog=e),width:800,draggable:"","close-on-click-modal":!1},{header:n((()=>[c("div",D,[d(o,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:n((()=>[d(l)])),_:1}),c("span",null,j(f(F).title),1)])])),footer:n((()=>[c("span",h,[d(x,{onClick:I},{default:n((()=>[g("取 消")])),_:1}),d(x,{type:"primary",onClick:N},{default:n((()=>[g("确 定")])),_:1})])])),default:n((()=>[d(S,{model:V.ruleForm,ref_key:"ruleFormRef",ref:k,"label-width":"auto"},{default:n((()=>[d(_,{gutter:35},{default:n((()=>[d(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[d(s,{label:"库定位器",prop:"configId",rules:[{required:!0,message:"库定位器不能为空",trigger:"blur"}]},{default:n((()=>[d(t,{modelValue:V.ruleForm.configId,"onUpdate:modelValue":a[0]||(a[0]=e=>V.ruleForm.configId=e),placeholder:"库名",filterable:"",onChange:a[1]||(a[1]=e=>U()),class:"w100"},{default:n((()=>[(p(!0),u(b,null,v(V.dbData,(e=>(p(),y(r,{key:e.configId,label:e.configId,value:e.configId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[d(s,{label:"表定位器",prop:"tableName",rules:[{required:!0,message:"表定位器不能为空",trigger:"blur"}]},{default:n((()=>[d(t,{modelValue:V.ruleForm.tableName,"onUpdate:modelValue":a[2]||(a[2]=e=>V.ruleForm.tableName=e),"value-key":"value",filterable:"",clearable:"",class:"w100"},{default:n((()=>[(p(!0),u(b,null,v(V.tableData,(e=>(p(),y(r,{key:e.name,label:e.name+" [ "+e.description+" ]",value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[d(s,{label:"操作",prop:"typeName",rules:[{required:!0,message:"操作不能为空",trigger:"blur"}]},{default:n((()=>[d(t,{modelValue:V.ruleForm.typeName,"onUpdate:modelValue":a[3]||(a[3]=e=>V.ruleForm.typeName=e),"value-key":"value",filterable:"",clearable:"",class:"w100"},{default:n((()=>[(p(!0),u(b,null,v(V.typeData,(e=>(p(),y(r,{key:e.name,label:e.name+" ( "+e.value+" ) [ "+e.description+" ]",value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-b9799414"]]);export{S as default};

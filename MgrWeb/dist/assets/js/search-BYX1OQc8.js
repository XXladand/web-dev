import{d as e,r as a,_ as l,w as o,ah as r,o as d,c as t,V as n,P as s,F as p,a8 as u,Q as c,O as i,L as m,a9 as h,S as f,W as g,a as V,T as y}from"./@vue-CX_mlhJe.js";import{d as b}from"./dayjs-DCN6noHZ.js";import{_ as v}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./@babel-Q_QrznUx.js";const _={key:0,class:"table-search-container"},M=e({name:"makeTableDemoSearch"}),k=v(e({...M,props:{search:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>({})}},emits:["search","reset","update:modelValue"],setup(e,{emit:v}){const M=e,k=v,D=a(),w=l({isToggle:!1,cascaderProps:{checkStrictly:!0,emitPath:!1,value:"id",label:"name",expandTrigger:"hover"},innerModelValue:{}});o((()=>M.modelValue),(e=>{w.innerModelValue=e})),o((()=>w.innerModelValue),(e=>{k("update:modelValue",e)}),{deep:!0});const C=e=>{e&&e.validate((e=>{e&&k("search",w.innerModelValue)}))},x=a([new Date(2e3,1,1,0,0,0),new Date(2e3,2,1,23,59,59)]),U=[{text:"7天内",value:()=>{const e=b().endOf("day").toDate();return[b().startOf("day").add(-7,"day").toDate(),e]}},{text:"1个月内",value:()=>{const e=b().endOf("day").toDate();return[b().startOf("day").add(-1,"month").toDate(),e]}},{text:"3个月内",value:()=>{const e=b().endOf("day").toDate();return[b().startOf("day").add(-3,"month").toDate(),e]}}];return(a,l)=>{const o=r("el-input"),b=r("el-date-picker"),v=r("el-option"),P=r("el-select"),q=r("el-cascader"),O=r("el-form-item"),T=r("el-col"),Y=r("el-button"),j=r("el-row"),S=r("el-divider"),A=r("el-form");return M.search.length>0?(d(),t("div",_,[n(A,{ref_key:"tableSearchRef",ref:D,model:w.innerModelValue,"label-width":"100px",class:"table-form"},{default:s((()=>[n(j,{gutter:20},{default:s((()=>[(d(!0),t(p,null,u(e.search,((e,a)=>c((d(),i(T,{xs:12,sm:5,md:5,lg:6,xl:4,class:"mb20",key:a},{default:s((()=>[e.type?(d(),i(O,{key:0,"label-width":"auto",label:e.label,prop:e.prop,rules:[{required:e.required,message:`${e.label}不能为空`,trigger:"input"===e.type?"blur":"change"}]},{default:s((()=>["input"===e.type?(d(),i(o,m({key:0,modelValue:w.innerModelValue[e.prop],"onUpdate:modelValue":a=>w.innerModelValue[e.prop]=a,ref_for:!0},e.comProps,{placeholder:e.placeholder,clearable:!e.required,onKeyup:l[0]||(l[0]=h((e=>C(D.value)),["enter"])),onChange:e.change,class:"w100"}),null,16,["modelValue","onUpdate:modelValue","placeholder","clearable","onChange"])):"date"===e.type?(d(),i(b,m({key:1,modelValue:w.innerModelValue[e.prop],"onUpdate:modelValue":a=>w.innerModelValue[e.prop]=a,ref_for:!0},e.comProps,{type:"date",placeholder:e.placeholder,clearable:!e.required,onChange:e.change,class:"w100"}),null,16,["modelValue","onUpdate:modelValue","placeholder","clearable","onChange"])):"monthrange"===e.type?(d(),i(b,m({key:2,modelValue:w.innerModelValue[e.prop],"onUpdate:modelValue":a=>w.innerModelValue[e.prop]=a,ref_for:!0},e.comProps,{type:"monthrange","value-format":"YYYY/MM/DD",placeholder:e.placeholder,clearable:!e.required,onChange:e.change,class:"w100"}),null,16,["modelValue","onUpdate:modelValue","placeholder","clearable","onChange"])):"daterange"===e.type?(d(),i(b,m({key:3,modelValue:w.innerModelValue[e.prop],"onUpdate:modelValue":a=>w.innerModelValue[e.prop]=a,ref_for:!0},e.comProps,{type:"daterange","value-format":"YYYY/MM/DD","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!e.required,shortcuts:U,"default-time":x.value,onChange:e.change,class:"w100"}),null,16,["modelValue","onUpdate:modelValue","clearable","default-time","onChange"])):"select"===e.type?(d(),i(P,m({key:4,modelValue:w.innerModelValue[e.prop],"onUpdate:modelValue":a=>w.innerModelValue[e.prop]=a,ref_for:!0},e.comProps,{clearable:!e.required,placeholder:e.placeholder,onChange:e.change,class:"w100"}),{default:s((()=>[(d(!0),t(p,null,u(e.options,(e=>(d(),i(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1040,["modelValue","onUpdate:modelValue","clearable","placeholder","onChange"])):"cascader"===e.type&&e.cascaderData?(d(),i(q,m({key:5,options:e.cascaderData,clearable:!e.required,filterable:"",props:e.cascaderProps?e.cascaderProps:w.cascaderProps,placeholder:e.placeholder,onChange:e.change,class:"w100",ref_for:!0},e.comProps,{modelValue:w.innerModelValue[e.prop],"onUpdate:modelValue":a=>w.innerModelValue[e.prop]=a}),null,16,["options","clearable","props","placeholder","onChange","modelValue","onUpdate:modelValue"])):f("",!0)])),_:2},1032,["label","prop","rules"])):f("",!0)])),_:2},1024)),[[g,a<3||w.isToggle]]))),128)),n(T,{xs:12,sm:9,md:9,lg:6,xl:4,class:"mb20"},{default:s((()=>[n(O,{class:"table-form-btn","label-width":"auto"},{default:s((()=>[V("div",null,[n(Y,{plain:"",type:"primary",icon:"ele-Search",onClick:l[1]||(l[1]=e=>C(D.value))},{default:s((()=>[y(" 查询 ")])),_:1}),n(Y,{icon:"ele-Refresh",onClick:l[2]||(l[2]=e=>{var a;(a=D.value)&&(a.resetFields(),k("reset",w.innerModelValue))}),style:{"margin-left":"12px"}},{default:s((()=>[y(" 重置 ")])),_:1})])])),_:1})])),_:1})])),_:1}),e.search.length>3?(d(),i(S,{key:0,style:{"margin-top":"5px"}},{default:s((()=>[n(Y,{icon:w.isToggle?"ele-ArrowUpBold":"ele-ArrowDownBold",class:"divider-btn",onClick:l[3]||(l[3]=e=>w.isToggle=!w.isToggle)},null,8,["icon"])])),_:1})):f("",!0)])),_:1},8,["model"])])):f("",!0)}}}),[["__scopeId","data-v-ee829e49"]]);export{k as default};

import{g as e}from"./index-DWGcUZYU.js";import{S as l}from"./sys-file-api-DidooOQP.js";import{E as a}from"./element-plus-B9gGnqkL.js";import{d as o,r as s,_ as r,ah as i,o as t,c as d,V as u,P as m,a as n,U as p,T as f}from"./@vue-CX_mlhJe.js";const c={class:"sys-file-container"},g={style:{color:"#fff"}},y={class:"dialog-footer"},h=o({name:"sysEditFile"}),F=o({...h,props:{title:String,sysFileId:Number},emits:["handleQuery"],setup(o,{expose:h,emit:F}){const _=o,b=F,S=s(),v=r({isShowDialog:!1,ruleForm:{}}),w=()=>{v.isShowDialog=!1},x=()=>{S.value.validate((async o=>{o&&(null!=v.ruleForm.id&&v.ruleForm.id>0&&await e(l).apiSysFileUpdatePost(v.ruleForm).then((e=>{200==e.data.code?a.success("修改文件信息成功！"):a.error("修改文件信息失败："+e.data.message)})),b("handleQuery"),v.isShowDialog=!1)}))};return h({openDialog:e=>{var l;v.ruleForm=JSON.parse(JSON.stringify(e)),v.isShowDialog=!0,null==(l=S.value)||l.resetFields()}}),(e,l)=>{const a=i("ele-Edit"),o=i("el-icon"),s=i("el-input"),r=i("el-form-item"),h=i("el-col"),F=i("el-row"),b=i("el-option"),V=i("el-select"),D=i("el-form"),N=i("el-button"),U=i("el-dialog");return t(),d("div",c,[u(U,{modelValue:v.isShowDialog,"onUpdate:modelValue":l[2]||(l[2]=e=>v.isShowDialog=e),draggable:"","close-on-click-modal":!1,width:"500px"},{header:m((()=>[n("div",g,[u(o,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:m((()=>[u(a)])),_:1}),n("span",null,p(_.title),1)])])),footer:m((()=>[n("span",y,[u(N,{onClick:w},{default:m((()=>[f("取 消")])),_:1}),u(N,{type:"primary",onClick:x},{default:m((()=>[f("确 定")])),_:1})])])),default:m((()=>[u(D,{model:v.ruleForm,ref_key:"ruleFormRef",ref:S,"label-width":"auto"},{default:m((()=>[u(F,null,{default:m((()=>[u(h,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:m((()=>[u(r,{label:"文件名称",prop:"fileName",rules:[{required:!0,message:"文件名称不能为空",trigger:"blur"}]},{default:m((()=>[u(s,{modelValue:v.ruleForm.fileName,"onUpdate:modelValue":l[0]||(l[0]=e=>v.ruleForm.fileName=e),placeholder:"文件名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(F,null,{default:m((()=>[u(h,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:m((()=>[u(r,{label:"文件类型",prop:"fileType"},{default:m((()=>[u(V,{modelValue:v.ruleForm.fileType,"onUpdate:modelValue":l[1]||(l[1]=e=>v.ruleForm.fileType=e),placeholder:"请选择文件类型",style:{"margin-bottom":"10px"}},{default:m((()=>[u(b,{label:"相关文件",value:"相关文件"}),u(b,{label:"归档文件",value:"归档文件"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}});export{F as _};

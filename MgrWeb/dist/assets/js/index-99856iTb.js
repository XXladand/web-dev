import{_ as e}from"./editPos.vue_vue_type_script_setup_true_name_sysEditPos_lang-Bx1Eyz19.js";import{_ as o}from"./modifyRecord.vue_vue_type_script_setup_true_lang-BJJtdc8n.js";import{g as t}from"./index-DWGcUZYU.js";import{S as a}from"./sys-pos-api-DICRJefz.js";import{c as s,E as r}from"./element-plus-B9gGnqkL.js";import{d as l,r as i,_ as p,j as n,ah as m,ap as d,o as u,c,V as j,P as f,Q as y,O as g,T as v}from"./@vue-CX_mlhJe.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";const _={class:"sys-pos-container"},h=l({name:"sysPos"}),w=l({...h,setup(l){const h=i(),w=p({loading:!1,posData:[],queryParams:{name:void 0,code:void 0},editPosTitle:""});n((async()=>{P()}));const P=async()=>{w.loading=!0;var e=await t(a).apiSysPosListGet(w.queryParams.name,w.queryParams.code);w.posData=e.data.result??[],w.loading=!1},b=()=>{w.queryParams.name=void 0,w.queryParams.code=void 0,P()},k=()=>{var e;w.editPosTitle="添加职位",null==(e=h.value)||e.openDialog({status:1,orderNo:100})};return(l,i)=>{const p=m("el-input"),n=m("el-form-item"),q=m("el-button"),x=m("el-button-group"),C=m("el-form"),D=m("el-card"),T=m("el-table-column"),V=m("el-tag"),z=m("el-table"),E=d("auth"),S=d("loading");return u(),c("div",_,[j(D,{shadow:"hover","body-style":{paddingBottom:"0"}},{default:f((()=>[j(C,{model:w.queryParams,ref:"queryForm",inline:!0},{default:f((()=>[j(n,{label:"职位名称"},{default:f((()=>[j(p,{modelValue:w.queryParams.name,"onUpdate:modelValue":i[0]||(i[0]=e=>w.queryParams.name=e),placeholder:"职位名称",clearable:""},null,8,["modelValue"])])),_:1}),j(n,{label:"职位编码"},{default:f((()=>[j(p,{modelValue:w.queryParams.code,"onUpdate:modelValue":i[1]||(i[1]=e=>w.queryParams.code=e),placeholder:"职位编码",clearable:""},null,8,["modelValue"])])),_:1}),j(n,null,{default:f((()=>[j(x,null,{default:f((()=>[y((u(),g(q,{type:"primary",icon:"ele-Search",onClick:P},{default:f((()=>[v(" 查询 ")])),_:1})),[[E,"sysPos:list"]]),j(q,{icon:"ele-Refresh",onClick:b},{default:f((()=>[v(" 重置 ")])),_:1})])),_:1})])),_:1}),j(n,null,{default:f((()=>[y((u(),g(q,{type:"primary",icon:"ele-Plus",onClick:k},{default:f((()=>[v(" 新增 ")])),_:1})),[[E,"sysPos:add"]])])),_:1})])),_:1},8,["model"])])),_:1}),j(D,{class:"full-table",shadow:"hover",style:{"margin-top":"5px"}},{default:f((()=>[y((u(),g(z,{data:w.posData,style:{width:"100%"},border:""},{default:f((()=>[j(T,{type:"index",label:"序号",width:"55",align:"center"}),j(T,{prop:"name",label:"职位名称",align:"center","show-overflow-tooltip":""}),j(T,{prop:"code",label:"职位编码",align:"center","show-overflow-tooltip":""}),j(T,{prop:"orderNo",label:"排序",width:"70",align:"center","show-overflow-tooltip":""}),j(T,{label:"状态",width:"70",align:"center","show-overflow-tooltip":""},{default:f((e=>[1===e.row.status?(u(),g(V,{key:0,type:"success"},{default:f((()=>[v("启用")])),_:1})):(u(),g(V,{key:1,type:"danger"},{default:f((()=>[v("禁用")])),_:1}))])),_:1}),j(T,{label:"修改记录",width:"100",align:"center","show-overflow-tooltip":""},{default:f((e=>[j(o,{data:e.row},null,8,["data"])])),_:1}),j(T,{label:"操作",width:"140",fixed:"right",align:"center","show-overflow-tooltip":""},{default:f((e=>[y((u(),g(q,{icon:"ele-Edit",size:"small",text:"",type:"primary",onClick:o=>{return t=e.row,w.editPosTitle="编辑职位",void(null==(a=h.value)||a.openDialog(t));var t,a}},{default:f((()=>[v(" 编辑 ")])),_:2},1032,["onClick"])),[[E,"sysPos:update"]]),y((u(),g(q,{icon:"ele-Delete",size:"small",text:"",type:"danger",onClick:o=>{return l=e.row,void s.confirm(`确定删除职位：【${l.name}】?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await t(a).apiSysPosDeletePost({id:l.id}),P(),r.success("删除成功")})).catch((()=>{}));var l}},{default:f((()=>[v(" 删除 ")])),_:2},1032,["onClick"])),[[E,"sysPos:delete"]])])),_:1})])),_:1},8,["data"])),[[S,w.loading]])])),_:1}),j(e,{ref_key:"editPosRef",ref:h,title:w.editPosTitle,onHandleQuery:P},null,8,["title"])])}}});export{w as default};

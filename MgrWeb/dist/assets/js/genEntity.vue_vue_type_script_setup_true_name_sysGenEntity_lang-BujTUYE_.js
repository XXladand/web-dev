import{g as e,s as l}from"./index-DWGcUZYU.js";import{S as a}from"./sys-database-api-V52ZKqx1.js";import{v as s,w as o}from"./lodash-es-Bx2dc0Qf.js";import{d as t,r,_ as m,j as i,ah as u,o as d,c as n,V as p,P as c,a as b,T as f,F as g,a8 as y,O as _}from"./@vue-CX_mlhJe.js";const N={class:"sys-dbEntity-container"},F={style:{color:"#fff"}},h=b("span",null," 生成实体 ",-1),V={class:"dialog-footer"},w=t({name:"sysGenEntity"}),x=t({...w,props:{applicationNamespaces:{type:Array}},emits:["handleQueryColumn"],setup(t,{expose:w,emit:x}){const C=x,v=r(),D=m({isShowDialog:!1,ruleForm:{},codeGenBaseClassName:[]}),S=t;i((async()=>{let a=await e(l).apiSysDictTypeDataListGet("code_gen_base_class");D.codeGenBaseClassName=a.data.result}));const k=()=>{D.isShowDialog=!1},j=()=>{v.value.validate((async l=>{l&&(await e(a).apiSysDatabaseCreateEntityPost(D.ruleForm),C("handleQueryColumn"),D.isShowDialog=!1)}))};return w({openDialog:e=>{D.ruleForm.configId=e.configId,D.ruleForm.tableName=e.tableName,D.ruleForm.entityName=s(o(e.tableName)),D.ruleForm.baseClassName="EntityBase",D.ruleForm.position=e.position,D.isShowDialog=!0}}),(e,l)=>{const a=u("ele-Cpu"),s=u("el-icon"),o=u("el-input"),t=u("el-form-item"),r=u("el-col"),m=u("el-option"),i=u("el-select"),w=u("el-row"),x=u("el-form"),C=u("el-button"),G=u("el-dialog");return d(),n("div",N,[p(G,{modelValue:D.isShowDialog,"onUpdate:modelValue":l[4]||(l[4]=e=>D.isShowDialog=e),draggable:"","close-on-click-modal":!1,width:"700px"},{header:c((()=>[b("div",F,[p(s,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:c((()=>[p(a)])),_:1}),h])])),footer:c((()=>[b("span",V,[p(C,{onClick:k},{default:c((()=>[f("取 消")])),_:1}),p(C,{type:"primary",onClick:j},{default:c((()=>[f("确 定")])),_:1})])])),default:c((()=>[p(x,{model:D.ruleForm,ref_key:"ruleFormRef",ref:v,"label-width":"auto"},{default:c((()=>[p(w,{gutter:35},{default:c((()=>[p(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:c((()=>[p(t,{label:"表名",prop:"tableName",rules:[{required:!0,message:"表名不能为空",trigger:"blur"}]},{default:c((()=>[p(o,{disabled:"",modelValue:D.ruleForm.tableName,"onUpdate:modelValue":l[0]||(l[0]=e=>D.ruleForm.tableName=e),placeholder:"表名",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),p(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:c((()=>[p(t,{label:"实体名称",prop:"entityName",rules:[{required:!1,message:"实体名称不能为空",trigger:"blur"}]},{default:c((()=>[p(o,{modelValue:D.ruleForm.entityName,"onUpdate:modelValue":l[1]||(l[1]=e=>D.ruleForm.entityName=e),placeholder:"实体名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),p(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:c((()=>[p(t,{label:"基类",prop:"baseClassName"},{default:c((()=>[p(i,{modelValue:D.ruleForm.baseClassName,"onUpdate:modelValue":l[2]||(l[2]=e=>D.ruleForm.baseClassName=e),clearable:"",class:"w100"},{default:c((()=>[(d(!0),n(g,null,y(D.codeGenBaseClassName,(e=>(d(),_(m,{key:e.code,label:e.value,value:e.code},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),p(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:c((()=>[p(t,{label:"存放位置",prop:"position"},{default:c((()=>[p(i,{modelValue:D.ruleForm.position,"onUpdate:modelValue":l[3]||(l[3]=e=>D.ruleForm.position=e),filterable:"",clearable:"",class:"w100",placeholder:"存放位置"},{default:c((()=>[(d(!0),n(g,null,y(S.applicationNamespaces,((e,l)=>(d(),_(m,{key:l,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}});export{x as _};

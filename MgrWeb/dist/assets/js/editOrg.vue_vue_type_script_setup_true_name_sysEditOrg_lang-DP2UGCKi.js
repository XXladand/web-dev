import{g as l}from"./index-DWGcUZYU.js";import{S as e}from"./sys-dict-data-api-Dup6m-Lx.js";import{S as a}from"./sys-org-api-BuTSvnhC.js";import{d as o,r,_ as s,j as d,ah as t,o as u,c as m,V as i,P as n,a as p,U as c,T as g,S as f,F as _,a8 as b,O as V}from"./@vue-CX_mlhJe.js";const y={class:"sys-org-container"},F={style:{color:"#fff"}},x={key:0},h={class:"dialog-footer"},v=o({name:"sysEditOrg"}),w=o({...v,props:{title:String,orgData:Array},emits:["reload"],setup(o,{expose:v,emit:w}){const S=o,D=w,U=r(),k=s({isShowDialog:!1,ruleForm:{},orgTypeList:[]});d((async()=>{let a=await l(e).apiSysDictDataDataListCodeGet("org_type");k.orgTypeList=a.data.result}));const O=()=>{k.isShowDialog=!1},j=()=>{U.value.validate((async e=>{e&&(null!=k.ruleForm.id&&k.ruleForm.id>0?await l(a).apiSysOrgUpdatePost(k.ruleForm):await l(a).apiSysOrgAddPost(k.ruleForm),D("reload",!0),k.isShowDialog=!1)}))};return v({openDialog:l=>{var e;k.ruleForm=JSON.parse(JSON.stringify(l)),k.isShowDialog=!0,null==(e=U.value)||e.resetFields()}}),(l,e)=>{const a=t("ele-Edit"),o=t("el-icon"),r=t("el-cascader"),s=t("el-form-item"),d=t("el-col"),v=t("el-input"),w=t("el-input-number"),D=t("el-option"),L=t("el-select"),N=t("el-radio"),P=t("el-radio-group"),T=t("el-row"),C=t("el-form"),q=t("el-button"),A=t("el-dialog");return u(),m("div",y,[i(A,{modelValue:k.isShowDialog,"onUpdate:modelValue":e[8]||(e[8]=l=>k.isShowDialog=l),draggable:"","close-on-click-modal":!1,width:"700px"},{header:n((()=>[p("div",F,[i(o,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:n((()=>[i(a)])),_:1}),p("span",null,c(S.title),1)])])),footer:n((()=>[p("span",h,[i(q,{onClick:O},{default:n((()=>[g("取 消")])),_:1}),i(q,{type:"primary",onClick:j},{default:n((()=>[g("确 定")])),_:1})])])),default:n((()=>[i(C,{model:k.ruleForm,ref_key:"ruleFormRef",ref:U,"label-width":"auto"},{default:n((()=>[i(T,{gutter:35},{default:n((()=>[i(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:n((()=>[i(s,{label:"上级机构"},{default:n((()=>[i(r,{options:S.orgData,props:{checkStrictly:!0,emitPath:!1,value:"id",label:"name"},placeholder:"请选择上级机构",clearable:"",class:"w100",modelValue:k.ruleForm.pid,"onUpdate:modelValue":e[0]||(e[0]=l=>k.ruleForm.pid=l)},{default:n((({node:l,data:e})=>[p("span",null,c(e.name),1),l.isLeaf?f("",!0):(u(),m("span",x," ("+c(e.children.length)+") ",1))])),_:1},8,["options","modelValue"])])),_:1})])),_:1}),i(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:n((()=>[i(s,{label:"机构名称",prop:"name",rules:[{required:!0,message:"机构名称不能为空",trigger:"blur"}]},{default:n((()=>[i(v,{modelValue:k.ruleForm.name,"onUpdate:modelValue":e[1]||(e[1]=l=>k.ruleForm.name=l),placeholder:"机构名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),i(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[i(s,{label:"机构编码",prop:"code",rules:[{required:!0,message:"机构编码不能为空",trigger:"blur"}]},{default:n((()=>[i(v,{modelValue:k.ruleForm.code,"onUpdate:modelValue":e[2]||(e[2]=l=>k.ruleForm.code=l),placeholder:"机构编码",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),i(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[i(s,{label:"级别"},{default:n((()=>[i(w,{modelValue:k.ruleForm.level,"onUpdate:modelValue":e[3]||(e[3]=l=>k.ruleForm.level=l),placeholder:"级别",class:"w100"},null,8,["modelValue"])])),_:1})])),_:1}),i(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:n((()=>[i(s,{label:"机构类型"},{default:n((()=>[i(L,{modelValue:k.ruleForm.type,"onUpdate:modelValue":e[4]||(e[4]=l=>k.ruleForm.type=l),filterable:"",clearable:"",class:"w100"},{default:n((()=>[(u(!0),m(_,null,b(k.orgTypeList,(l=>(u(),V(D,{key:l.value,label:l.value,value:l.code},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[i(s,{label:"排序"},{default:n((()=>[i(w,{modelValue:k.ruleForm.orderNo,"onUpdate:modelValue":e[5]||(e[5]=l=>k.ruleForm.orderNo=l),placeholder:"排序",class:"w100"},null,8,["modelValue"])])),_:1})])),_:1}),i(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[i(s,{label:"状态"},{default:n((()=>[i(P,{modelValue:k.ruleForm.status,"onUpdate:modelValue":e[6]||(e[6]=l=>k.ruleForm.status=l)},{default:n((()=>[i(N,{value:1},{default:n((()=>[g("启用")])),_:1}),i(N,{value:2},{default:n((()=>[g("禁用")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:n((()=>[i(s,{label:"备注"},{default:n((()=>[i(v,{modelValue:k.ruleForm.remark,"onUpdate:modelValue":e[7]||(e[7]=l=>k.ruleForm.remark=l),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}});export{w as _};

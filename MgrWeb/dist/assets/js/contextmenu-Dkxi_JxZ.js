import{d as e,_ as t,k as o,j as n,Z as s,w as a,ah as i,o as l,O as c,P as d,Q as r,c as u,K as m,a as p,F as x,a8 as f,V as w,U as C,S as h,W as g,X as k}from"./@vue-CX_mlhJe.js";import{_ as v}from"./_plugin-vue_export-helper-BCo6x5W8.js";const _={class:"el-dropdown-menu"},y=["onClick"],L=e({name:"layoutTagsViewContextmenu"}),I=v(e({...L,props:{dropdown:{type:Object,default:()=>({x:0,y:0})}},emits:["currentContextmenuClick"],setup(e,{expose:v,emit:L}){const I=e,b=L,M=t({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"ele-RefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"ele-Close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"ele-CircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"ele-FolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),V=o((()=>I.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:I.dropdown.y}:I.dropdown)),E=()=>{M.isShow=!1};return n((()=>{document.body.addEventListener("click",E)})),s((()=>{document.body.removeEventListener("click",E)})),a((()=>I.dropdown),(({x:e})=>{e+117>document.documentElement.clientWidth?M.arrowLeft=117-(document.documentElement.clientWidth-e):M.arrowLeft=10}),{deep:!0}),v({openContextmenu:e=>{var t;M.item=e,(null==(t=e.meta)?void 0:t.isAffix)?M.dropdownList[1].affix=!0:M.dropdownList[1].affix=!1,E(),setTimeout((()=>{M.isShow=!0}),10)}}),(e,t)=>{const o=i("SvgIcon");return l(),c(k,{name:"el-zoom-in-center"},{default:d((()=>[r((l(),u("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:m(`top: ${V.value.y+5}px;left: ${V.value.x}px;`),key:Math.random()},[p("ul",_,[(l(!0),u(x,null,f(M.dropdownList,((t,n)=>(l(),u(x,null,[t.affix?h("",!0):(l(),u("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:n,onClick:e=>{return o=t.contextMenuClickId,void b("currentContextmenuClick",Object.assign({},{contextMenuClickId:o},M.item));var o}},[w(o,{name:t.icon},null,8,["name"]),p("span",null,C(e.$t(t.txt)),1)],8,y))],64)))),256))]),p("div",{class:"el-popper__arrow",style:m({left:`${M.arrowLeft}px`})},null,4)],4)),[[g,M.isShow]])])),_:1})}}}),[["__scopeId","data-v-fb9242e5"]]);export{I as default};

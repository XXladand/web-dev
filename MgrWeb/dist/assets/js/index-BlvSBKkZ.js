import{b as e}from"./vue-router-DCQgfElv.js";import{V as t}from"./@element-plus-BOmeTCVz.js";import{J as a,_ as l}from"./editJobDetail.vue_vue_type_script_setup_true_name_sysEditJobDetail_lang-CDunHtGc.js";import o from"./editJobTrigger-CyyaZHBQ.js";import{_ as r}from"./jobCluster.vue_vue_type_script_setup_true_name_sysJobCluster_lang-qmQR1Y4I.js";import{g as i}from"./index-DWGcUZYU.js";import{S as n}from"./sys-job-api-Be8QLoLy.js";import{c as s,E as p}from"./element-plus-B9gGnqkL.js";import{d,r as u,_ as c,j as f,ah as b,ap as g,o as m,c as y,V as w,P as h,Q as j,O as v,T as _,S as k,a as P,u as D,U as x}from"./@vue-CX_mlhJe.js";import"./monaco-editor-CQECKOpe.js";import"./jspdf-CH-AZmyM.js";import"./@babel-Q_QrznUx.js";import"./fflate-B3Xb404m.js";import"./vcrontab-3-DLs5gnXJ.js";import"./vue-DMOwXDUL.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";const J={class:"sys-job-container"},C={style:{display:"flex","align-items":"center"}},T={style:{"margin-left":"5px"}},z={key:0},S={key:1,style:{"text-align":"center"}},I=d({name:"sysJob"}),R=d({...I,setup(d){const I=e(),R=u(),V=u(),O=u(),U=c({loading:!1,jobData:[],queryParams:{jobId:void 0,description:void 0},tableParams:{page:1,pageSize:20,total:0},tableParams2:{page:1,pageSize:20,total:0},editJobDetailTitle:"",editJobTriggerTitle:"",loading2:!1,isVisibleDrawer:!1,triggerRecordData:[],currentJob:{}});f((async()=>{N()}));const N=async()=>{var e,t;U.loading=!0;let a=Object.assign(U.queryParams,U.tableParams);var l=await i(n).apiSysJobPageJobDetailPost(a);U.jobData=(null==(e=l.data.result)?void 0:e.items)??[],U.tableParams.total=null==(t=l.data.result)?void 0:t.total,U.loading=!1},q=()=>{U.queryParams.jobId=void 0,U.queryParams.description=void 0,N()},E=()=>{var e;U.editJobDetailTitle="添加作业",null==(e=R.value)||e.openDialog({concurrent:!0,includeAnnotations:!0,groupName:"default",createType:a.NUMBER_2})},B=e=>{U.tableParams.pageSize=e,N()},M=e=>{U.tableParams.page=e,N()},H=async()=>{await i(n).apiSysJobStartAllJobPost(),p.success("启动所有作业")},A=async()=>{await i(n).apiSysJobPauseAllJobPost(),p.success("暂停所有作业")},Q=async()=>{await i(n).apiSysJobCancelSleepPost(),p.success("强制唤醒作业调度器")},F=async()=>{await i(n).apiSysJobPersistAllPost(),p.success("强制触发所有作业持久化")},$=()=>{var e;null==(e=O.value)||e.openDrawer()},G=()=>{I.push({path:"/platform/job/dashboard"})},K=e=>{if(null==e||""===e)return{};const t=JSON.parse(e),a=JSON.parse(t.HttpJob);return{requestUri:a.RequestUri,httpMethod:JSON.stringify(a.HttpMethod),body:a.Body}},L=e=>{var t,a;if(null==e||""===e)return"";for(const l in null==(t=R.value)?void 0:t.httpMethodDef)if((null==(a=R.value)?void 0:a.httpMethodDef[l])===e)return l;return""},W=async()=>{var e,t;U.loading2=!0;let a=Object.assign({jobId:U.currentJob.jobDetail.jobId},U.tableParams2);var l=await i(n).apiSysJobPageJobTriggerRecordPost(a);U.triggerRecordData=(null==(e=l.data.result)?void 0:e.items)??[],U.tableParams2.total=null==(t=l.data.result)?void 0:t.total,U.loading2=!1},X=e=>{U.tableParams2.pageSize=e,W()},Y=e=>{U.tableParams2.page=e,W()};return(e,d)=>{const u=b("el-input"),c=b("el-form-item"),f=b("el-button"),I=b("el-button-group"),Z=b("el-tooltip"),ee=b("el-form"),te=b("el-card"),ae=b("el-table-column"),le=b("el-tag"),oe=b("el-table"),re=b("el-icon"),ie=b("el-descriptions-item"),ne=b("el-descriptions"),se=b("el-popover"),pe=b("el-pagination"),de=b("el-drawer"),ue=g("auth"),ce=g("loading");return m(),y("div",J,[w(te,{shadow:"hover","body-style":{paddingBottom:"0"}},{default:h((()=>[w(ee,{model:U.queryParams,ref:"queryForm",inline:!0},{default:h((()=>[w(c,{label:"作业编号"},{default:h((()=>[w(u,{modelValue:U.queryParams.jobId,"onUpdate:modelValue":d[0]||(d[0]=e=>U.queryParams.jobId=e),placeholder:"作业编号",clearable:""},null,8,["modelValue"])])),_:1}),w(c,{label:"描述信息"},{default:h((()=>[w(u,{modelValue:U.queryParams.description,"onUpdate:modelValue":d[1]||(d[1]=e=>U.queryParams.description=e),placeholder:"描述信息",clearable:""},null,8,["modelValue"])])),_:1}),w(c,null,{default:h((()=>[w(I,null,{default:h((()=>[j((m(),v(f,{type:"primary",icon:"ele-Search",onClick:N},{default:h((()=>[_(" 查询 ")])),_:1})),[[ue,"sysJob:pageJobDetail"]]),w(f,{icon:"ele-Refresh",onClick:q},{default:h((()=>[_(" 重置 ")])),_:1})])),_:1})])),_:1}),w(c,null,{default:h((()=>[w(I,{style:{margin:"0px 12px"}},{default:h((()=>[w(Z,{content:"增加作业"},{default:h((()=>[j(w(f,{icon:"ele-CirclePlus",onClick:E},null,512),[[ue,"sysJob:addJobDetail"]])])),_:1}),w(Z,{content:"启动所有作业"},{default:h((()=>[w(f,{icon:"ele-VideoPlay",onClick:H})])),_:1}),w(Z,{content:"暂停所有作业"},{default:h((()=>[w(f,{icon:"ele-VideoPause",onClick:A})])),_:1})])),_:1}),w(I,{style:{margin:"0px 12px 0px 0px"}},{default:h((()=>[w(Z,{content:"强制唤醒作业调度器"},{default:h((()=>[w(f,{icon:"ele-AlarmClock",onClick:Q})])),_:1}),w(Z,{content:"强制触发所有作业持久化"},{default:h((()=>[w(f,{icon:"ele-Connection",onClick:F})])),_:1})])),_:1}),w(f,{icon:"ele-Coin",onClick:$,plain:""},{default:h((()=>[_(" 集群控制 ")])),_:1}),w(f,{icon:"ele-Grid",onClick:G,plain:""},{default:h((()=>[_(" 任务看板 ")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),w(te,{class:"full-table",shadow:"hover",style:{"margin-top":"5px"}},{default:h((()=>[j((m(),v(oe,{data:U.jobData,style:{width:"100%"},border:""},{default:h((()=>[w(ae,{type:"expand",fixed:""},{default:h((e=>[w(oe,{style:{"margin-left":"48px",width:"calc(100% - 48px)"},data:e.row.jobTriggers,border:"",size:"small"},{default:h((()=>[w(ae,{type:"index",label:"序号",width:"55",align:"center",fixed:""}),w(ae,{prop:"triggerId",label:"触发器编号",width:"180","header-align":"center",fixed:"","show-overflow-tooltip":""}),w(ae,{prop:"triggerType",label:"类型",width:"200","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"args",label:"参数","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"description",label:"描述",width:"120","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"status",label:"状态",width:"120",align:"center","show-overflow-tooltip":""},{default:h((e=>[0==e.row.status?(m(),v(le,{key:0,type:"warning",effect:"plain"},{default:h((()=>[_(" 积压 ")])),_:1})):k("",!0),1==e.row.status?(m(),v(le,{key:1,type:"",effect:"plain"},{default:h((()=>[_(" 就绪 ")])),_:1})):k("",!0),2==e.row.status?(m(),v(le,{key:2,type:"success",effect:"plain"},{default:h((()=>[_(" 正在运行 ")])),_:1})):k("",!0),3==e.row.status?(m(),v(le,{key:3,type:"danger",effect:"plain"},{default:h((()=>[_(" 暂停 ")])),_:1})):k("",!0),4==e.row.status?(m(),v(le,{key:4,type:"danger",effect:"plain"},{default:h((()=>[_(" 阻塞 ")])),_:1})):k("",!0),5==e.row.status?(m(),v(le,{key:5,type:"",effect:"plain"},{default:h((()=>[_(" 由失败进入就绪 ")])),_:1})):k("",!0),6==e.row.status?(m(),v(le,{key:6,type:"danger",effect:"plain"},{default:h((()=>[_(" 归档 ")])),_:1})):k("",!0),7==e.row.status?(m(),v(le,{key:7,type:"danger",effect:"plain"},{default:h((()=>[_(" 崩溃 ")])),_:1})):k("",!0),8==e.row.status?(m(),v(le,{key:8,type:"danger",effect:"plain"},{default:h((()=>[_(" 超限 ")])),_:1})):k("",!0),9==e.row.status?(m(),v(le,{key:9,type:"danger",effect:"plain"},{default:h((()=>[_(" 无触发时间 ")])),_:1})):k("",!0),10==e.row.status?(m(),v(le,{key:10,type:"danger",effect:"plain"},{default:h((()=>[_(" 未启动 ")])),_:1})):k("",!0),11==e.row.status?(m(),v(le,{key:11,type:"danger",effect:"plain"},{default:h((()=>[_(" 未知作业触发器 ")])),_:1})):k("",!0),12==e.row.status?(m(),v(le,{key:12,type:"danger",effect:"plain"},{default:h((()=>[_(" 未知作业处理程序 ")])),_:1})):k("",!0)])),_:2},1024),w(ae,{prop:"startTime",label:"起始时间",width:"100",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"endTime",label:"结束时间",width:"100",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"lastRunTime",label:"最近运行时间",width:"130",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"nextRunTime",label:"下一次运行时间",width:"130",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"numberOfRuns",label:"触发次数",width:"100",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"maxNumberOfRuns",label:"最大触发次数",width:"120",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"numberOfErrors",label:"出错次数",width:"100",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"maxNumberOfErrors",label:"最大出错次数",width:"120",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"numRetries",label:"重试次数",width:"100",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"retryTimeout",label:"重试间隔ms",width:"100",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"startNow",label:"是否立即启动",width:"100",align:"center","show-overflow-tooltip":""},{default:h((e=>[1==e.row.startNow?(m(),v(le,{key:0},{default:h((()=>[_(" 是 ")])),_:1})):(m(),v(le,{key:1,type:"info"},{default:h((()=>[_(" 否 ")])),_:1}))])),_:2},1024),w(ae,{prop:"runOnStart",label:"是否启动时执行一次",width:"150",align:"center","show-overflow-tooltip":""},{default:h((e=>[1==e.row.runOnStart?(m(),v(le,{key:0},{default:h((()=>[_(" 是 ")])),_:1})):(m(),v(le,{key:1,type:"info"},{default:h((()=>[_(" 否 ")])),_:1}))])),_:2},1024),w(ae,{prop:"resetOnlyOnce",label:"是否重置触发次数",width:"120",align:"center","show-overflow-tooltip":""},{default:h((e=>[1==e.row.resetOnlyOnce?(m(),v(le,{key:0},{default:h((()=>[_(" 是 ")])),_:1})):(m(),v(le,{key:1,type:"info"},{default:h((()=>[_(" 否 ")])),_:1}))])),_:2},1024),w(ae,{prop:"updatedTime",label:"更新时间",width:"130",align:"center","show-overflow-tooltip":""}),w(ae,{label:"操作",width:"140",align:"center","show-overflow-tooltip":"",fixed:"right"},{default:h((e=>[w(Z,{content:"启动触发器"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-VideoPlay",text:"",onClick:t=>(async e=>{await i(n).apiSysJobStartTriggerPost({jobId:e.jobId,triggerId:e.triggerId}),p.success("启动触发器")})(e.row)},null,8,["onClick"])])),_:2},1024),w(Z,{content:"暂停触发器"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-VideoPause",text:"",onClick:t=>(async e=>{await i(n).apiSysJobPauseTriggerPost({jobId:e.jobId,triggerId:e.triggerId}),p.success("暂停触发器")})(e.row)},null,8,["onClick"])])),_:2},1024),w(Z,{content:"编辑触发器"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-Edit",text:"",onClick:t=>{return a=e.row,U.editJobTriggerTitle="编辑触发器",void(null==(l=V.value)||l.openDialog(a));var a,l}},null,8,["onClick"])])),_:2},1024),w(Z,{content:"删除触发器"},{default:h((()=>[w(f,{size:"small",type:"danger",icon:"ele-Delete",text:"",onClick:t=>{return a=e.row,void s.confirm(`确定删除触发器：【${a.triggerId}】?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await i(n).apiSysJobDeleteJobTriggerPost({jobId:a.jobId,triggerId:a.triggerId}),N(),p.success("删除成功")})).catch((()=>{}));var a}},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["data"])])),_:1}),w(ae,{type:"index",label:"序号",width:"55",align:"center",fixed:""}),w(ae,{prop:"jobDetail.jobId",label:"作业编号",width:"180","header-align":"center",fixed:""},{default:h((e=>{var a;return[P("div",C,[w(re,null,{default:h((()=>[w(D(t))])),_:1}),P("span",T,x(null==(a=e.row.jobDetail)?void 0:a.jobId),1)])]})),_:1}),w(ae,{prop:"jobDetail.groupName",label:"组名称",width:"100",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"jobDetail.jobType",label:"类型",width:"200","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"jobDetail.description",label:"描述","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"jobDetail.concurrent",label:"执行方式",width:"90",align:"center","show-overflow-tooltip":""},{default:h((e=>{var t;return[1==(null==(t=e.row.jobDetail)?void 0:t.concurrent)?(m(),v(le,{key:0,type:"success"},{default:h((()=>[_(" 并行 ")])),_:1})):(m(),v(le,{key:1,type:"warning"},{default:h((()=>[_(" 串行 ")])),_:1}))]})),_:1}),w(ae,{prop:"jobDetail.createType",label:"作业创建类型",width:"110",align:"center","show-overflow-tooltip":""},{default:h((e=>{var t,l,o;return[(null==(t=e.row.jobDetail)?void 0:t.createType)==D(a).NUMBER_0?(m(),v(le,{key:0,type:"info"},{default:h((()=>[_(" 内置 ")])),_:1})):k("",!0),(null==(l=e.row.jobDetail)?void 0:l.createType)==D(a).NUMBER_1?(m(),v(le,{key:1,type:"warning"},{default:h((()=>[_(" 脚本 ")])),_:1})):k("",!0),(null==(o=e.row.jobDetail)?void 0:o.createType)==D(a).NUMBER_2?(m(),v(le,{key:2,type:"success"},{default:h((()=>[_(" HTTP请求 ")])),_:1})):k("",!0)]})),_:1}),w(ae,{prop:"jobDetail.updatedTime",label:"更新时间",width:"130",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"jobDetail.properties",label:"额外数据","header-align":"center","show-overflow-tooltip":""},{default:h((e=>{var t,l;return[(null==(t=e.row.jobDetail)?void 0:t.createType)!=D(a).NUMBER_2?(m(),y("span",z,x(null==(l=e.row.jobDetail)?void 0:l.properties),1)):(m(),y("div",S,[w(se,{placement:"left",width:400,trigger:"hover"},{reference:h((()=>[w(le,{effect:"plain",type:"info"},{default:h((()=>[_(" 请求参数 ")])),_:1})])),default:h((()=>[w(ne,{title:"Http 请求参数",column:1,size:"small",border:!0},{default:h((()=>[w(ie,{label:"请求地址","label-align":"right","label-class-name":"job-index-descriptions-label-style"},{default:h((()=>{var t;return[_(x(K(null==(t=e.row.jobDetail)?void 0:t.properties).requestUri),1)]})),_:2},1024),w(ie,{label:"请求方法","label-align":"right","label-class-name":"job-index-descriptions-label-style"},{default:h((()=>{var t;return[_(x(L(K(null==(t=e.row.jobDetail)?void 0:t.properties).httpMethod)),1)]})),_:2},1024),w(ie,{label:"请求报文体","label-align":"right","label-class-name":"job-index-descriptions-label-style"},{default:h((()=>{var t;return[_(x(K(null==(t=e.row.jobDetail)?void 0:t.properties).body),1)]})),_:2},1024)])),_:2},1024)])),_:2},1024)]))]})),_:1}),w(ae,{label:"操作",width:"270",fixed:"right",align:"center","show-overflow-tooltip":""},{default:h((e=>[w(Z,{content:"执行记录"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-Timer",text:"",onClick:t=>{return a=e.row,U.currentJob=a,U.isVisibleDrawer=!0,void W();var a}},null,8,["onClick"])])),_:2},1024),w(Z,{content:"增加触发器"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-CirclePlus",text:"",onClick:t=>{return a=e.row,U.editJobTriggerTitle="添加触发器",void(null==(o=V.value)||o.openDialog({jobId:null==(l=a.jobDetail)?void 0:l.jobId,retryTimeout:1e3,startNow:!0,runOnStart:!0,resetOnlyOnce:!0,triggerType:"Furion.Schedule.PeriodTrigger"}));var a,l,o}},null,8,["onClick"])])),_:2},1024),w(Z,{content:"执行作业"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-CircleCheck",text:"",onClick:t=>(async e=>{var t;await i(n).apiSysJobRunJobPost({jobId:null==(t=e.jobDetail)?void 0:t.jobId}),p.success("执行作业")})(e.row)},null,8,["onClick"])])),_:2},1024),w(Z,{content:"启动作业"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-VideoPlay",text:"",onClick:t=>(async e=>{var t;await i(n).apiSysJobStartJobPost({jobId:null==(t=e.jobDetail)?void 0:t.jobId}),p.success("启动作业")})(e.row)},null,8,["onClick"])])),_:2},1024),w(Z,{content:"暂停作业"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-VideoPause",text:"",onClick:t=>(async e=>{var t;await i(n).apiSysJobPauseJobPost({jobId:null==(t=e.jobDetail)?void 0:t.jobId}),p.success("暂停作业")})(e.row)},null,8,["onClick"])])),_:2},1024),w(Z,{content:"取消作业"},{default:h((()=>[w(f,{size:"small",type:"primary",icon:"ele-CircleClose",text:"",onClick:t=>(async e=>{var t;await i(n).apiSysJobCancelJobPost({jobId:null==(t=e.jobDetail)?void 0:t.jobId}),p.success("取消作业")})(e.row)},null,8,["onClick"])])),_:2},1024),w(Z,{content:"编辑作业"},{default:h((()=>[j(w(f,{size:"small",type:"primary",icon:"ele-Edit",text:"",onClick:t=>{return a=e.row,U.editJobDetailTitle="编辑作业",void(null==(l=R.value)||l.openDialog(a.jobDetail));var a,l}},null,8,["onClick"]),[[ue,"sysJob:updateJobDetail"]])])),_:2},1024),w(Z,{content:"删除作业"},{default:h((()=>[j(w(f,{size:"small",type:"danger",icon:"ele-Delete",text:"",onClick:t=>{return a=e.row,void s.confirm(`确定删除作业：【${null==(l=a.jobDetail)?void 0:l.jobId}】?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{var e;await i(n).apiSysJobDeleteJobDetailPost({jobId:null==(e=a.jobDetail)?void 0:e.jobId}),N(),p.success("删除成功")})).catch((()=>{}));var a,l}},null,8,["onClick"]),[[ue,"sysJob:deleteJobDetail"]])])),_:2},1024)])),_:1})])),_:1},8,["data"])),[[ce,U.loading]]),w(pe,{currentPage:U.tableParams.page,"onUpdate:currentPage":d[2]||(d[2]=e=>U.tableParams.page=e),"page-size":U.tableParams.pageSize,"onUpdate:pageSize":d[3]||(d[3]=e=>U.tableParams.pageSize=e),total:U.tableParams.total,"page-sizes":[10,20,50,100],size:"small",background:"",onSizeChange:B,onCurrentChange:M,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])])),_:1}),w(de,{modelValue:U.isVisibleDrawer,"onUpdate:modelValue":d[6]||(d[6]=e=>U.isVisibleDrawer=e),title:"作业触发器运行记录",size:"45%"},{default:h((()=>[w(te,{shadow:"hover",style:{margin:"8px","padding-bottom":"15px"}},{default:h((()=>[j((m(),v(oe,{data:U.triggerRecordData,style:{width:"100%"},border:""},{default:h((()=>[w(ae,{type:"index",label:"序号",width:"55",align:"center"}),w(ae,{prop:"jobId",label:"作业编号","min-width":"120","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"triggerId",label:"触发器编号","min-width":"120","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"numberOfRuns",label:"当前运行次数","min-width":"100",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"lastRunTime",label:"最近运行时间","min-width":"130","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"nextRunTime",label:"下一次运行时间","min-width":"130","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"status",label:"触发器状态",align:"center","show-overflow-tooltip":""},{default:h((e=>[0==e.row.status?(m(),v(le,{key:0,type:"warning",effect:"plain"},{default:h((()=>[_(" 积压 ")])),_:1})):k("",!0),1==e.row.status?(m(),v(le,{key:1,type:"",effect:"plain"},{default:h((()=>[_(" 就绪 ")])),_:1})):k("",!0),2==e.row.status?(m(),v(le,{key:2,type:"success",effect:"plain"},{default:h((()=>[_(" 正在运行 ")])),_:1})):k("",!0),3==e.row.status?(m(),v(le,{key:3,type:"danger",effect:"plain"},{default:h((()=>[_(" 暂停 ")])),_:1})):k("",!0),4==e.row.status?(m(),v(le,{key:4,type:"danger",effect:"plain"},{default:h((()=>[_(" 阻塞 ")])),_:1})):k("",!0),5==e.row.status?(m(),v(le,{key:5,type:"",effect:"plain"},{default:h((()=>[_(" 由失败进入就绪 ")])),_:1})):k("",!0),6==e.row.status?(m(),v(le,{key:6,type:"danger",effect:"plain"},{default:h((()=>[_(" 归档 ")])),_:1})):k("",!0),7==e.row.status?(m(),v(le,{key:7,type:"danger",effect:"plain"},{default:h((()=>[_(" 崩溃 ")])),_:1})):k("",!0),8==e.row.status?(m(),v(le,{key:8,type:"danger",effect:"plain"},{default:h((()=>[_(" 超限 ")])),_:1})):k("",!0),9==e.row.status?(m(),v(le,{key:9,type:"danger",effect:"plain"},{default:h((()=>[_(" 无触发时间 ")])),_:1})):k("",!0),10==e.row.status?(m(),v(le,{key:10,type:"danger",effect:"plain"},{default:h((()=>[_(" 未启动 ")])),_:1})):k("",!0),11==e.row.status?(m(),v(le,{key:11,type:"danger",effect:"plain"},{default:h((()=>[_(" 未知作业触发器 ")])),_:1})):k("",!0),12==e.row.status?(m(),v(le,{key:12,type:"danger",effect:"plain"},{default:h((()=>[_(" 未知作业处理程序 ")])),_:1})):k("",!0)])),_:1}),w(ae,{prop:"result",label:"执行结果","header-align":"center","show-overflow-tooltip":""}),w(ae,{prop:"elapsedTime",label:"耗时","min-width":"80",align:"center","show-overflow-tooltip":""}),w(ae,{prop:"createdTime",label:"创建时间","min-width":"130",align:"center","show-overflow-tooltip":""})])),_:1},8,["data"])),[[ce,U.loading2]]),w(pe,{currentPage:U.tableParams2.page,"onUpdate:currentPage":d[4]||(d[4]=e=>U.tableParams2.page=e),"page-size":U.tableParams2.pageSize,"onUpdate:pageSize":d[5]||(d[5]=e=>U.tableParams2.pageSize=e),total:U.tableParams2.total,"page-sizes":[10,20,50,100],size:"small",background:"",onSizeChange:X,onCurrentChange:Y,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])])),_:1})])),_:1},8,["modelValue"]),w(l,{ref_key:"editJobDetailRef",ref:R,title:U.editJobDetailTitle,onHandleQuery:N},null,8,["title"]),w(o,{ref_key:"editJobTriggerRef",ref:V,title:U.editJobTriggerTitle,onHandleQuery:N},null,8,["title"]),w(r,{ref_key:"editJobClusterRef",ref:O},null,512)])}}});export{R as default};

import{d as e,r as l,j as a,ah as t,o as u,c as r,V as d,P as s,a as o,U as m,u as i,T as n,Q as p,F as c,a8 as g,W as v,O as f}from"./@vue-CX_mlhJe.js";import{g as b}from"./dict-utils-LXnBJ9wT.js";import{r as T}from"./request-Cv12-fnH.js";import{E as _}from"./element-plus-B9gGnqkL.js";import{_ as h}from"./_plugin-vue_export-helper-BCo6x5W8.js";const V=e=>T({url:"/api/netTaskTimerRecord/page",method:"post",data:e}),k=()=>T({url:"/api/netTaskTimerRecord/NetTaskTimerNetTaskTimerIdDropdown",method:"get"}),x={class:"netTaskTimerRecord-container"},y={style:{color:"#fff"}},w={class:"dialog-footer"},j=h(e({__name:"editDialog",props:{title:{type:String,default:""}},emits:["reloadTable"],setup(e,{expose:h,emit:V}){var j=e;const U=V,R=l(),q=l(!1),O=l({}),S=l({param:[{required:!0,message:"请输入参数！",trigger:"blur"}],result:[{required:!0,message:"请输入结果！",trigger:"blur"}],state:[{required:!0,message:"请选择状态！",trigger:"change"}],runTime:[{required:!0,message:"请选择运行时间！",trigger:"change"}],duration:[{required:!0,message:"请输入运行时长（秒）！",trigger:"blur"}],finishTime:[{required:!0,message:"请选择结束时间！",trigger:"change"}]});a((()=>{}));const I=()=>{q.value=!1},N=async()=>{R.value.validate((async(e,l)=>{if(e){let e=O.value;null==O.value.id||null==O.value.id||""==O.value.id||0==O.value.id?await(a=e,T({url:"/api/netTaskTimerRecord/add",method:"post",data:a})):await(e=>T({url:"/api/netTaskTimerRecord/update",method:"post",data:e}))(e),U("reloadTable"),q.value=!1}else _({message:`表单有${Object.keys(l).length}处验证失败，请修改后再提交`,type:"error"});var a}))},D=l([]);return(async()=>{let e=await k();D.value=e.data.result??[]})(),h({openDialog:async e=>{let l=JSON.parse(JSON.stringify(e));var a;l.id?O.value=(await(a=l.id,T({url:"/api/netTaskTimerRecord/detail",method:"get",data:{id:a}}))).data.result:O.value=l,q.value=!0}}),(e,l)=>{const a=t("el-input"),T=t("el-form-item"),_=t("el-option"),h=t("el-select"),V=t("el-col"),k=t("el-date-picker"),U=t("el-input-number"),C=t("el-row"),$=t("el-form"),z=t("el-button"),F=t("el-dialog");return u(),r("div",x,[d(F,{modelValue:q.value,"onUpdate:modelValue":l[8]||(l[8]=e=>q.value=e),width:800,draggable:"","close-on-click-modal":!1},{header:s((()=>[o("div",y,[o("span",null,m(i(j).title),1)])])),footer:s((()=>[o("span",w,[d(z,{onClick:I},{default:s((()=>[n("取 消")])),_:1}),d(z,{type:"primary",onClick:N},{default:s((()=>[n("确 定")])),_:1})])])),default:s((()=>[d($,{model:O.value,ref_key:"ruleFormRef",ref:R,"label-width":"auto",rules:S.value},{default:s((()=>[d(C,{gutter:35},{default:s((()=>[p(d(T,null,{default:s((()=>[d(a,{modelValue:O.value.id,"onUpdate:modelValue":l[0]||(l[0]=e=>O.value.id=e)},null,8,["modelValue"])])),_:1},512),[[v,!1]]),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:s((()=>[d(T,{label:"任务定时",prop:"netTaskTimerId"},{default:s((()=>[d(h,{clearable:"",filterable:"",modelValue:O.value.netTaskTimerId,"onUpdate:modelValue":l[1]||(l[1]=e=>O.value.netTaskTimerId=e),placeholder:"请选择任务定时"},{default:s((()=>[(u(!0),r(c,null,g(D.value,((e,l)=>(u(),f(_,{key:l,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:s((()=>[d(T,{label:"参数",prop:"param"},{default:s((()=>[d(a,{modelValue:O.value.param,"onUpdate:modelValue":l[2]||(l[2]=e=>O.value.param=e),placeholder:"请输入参数",maxlength:"2000","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:s((()=>[d(T,{label:"结果",prop:"result"},{default:s((()=>[d(a,{modelValue:O.value.result,"onUpdate:modelValue":l[3]||(l[3]=e=>O.value.result=e),placeholder:"请输入结果",maxlength:"2000","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:s((()=>[d(T,{label:"状态",prop:"state"},{default:s((()=>[d(h,{clearable:"",modelValue:O.value.state,"onUpdate:modelValue":l[4]||(l[4]=e=>O.value.state=e),placeholder:"请选择状态"},{default:s((()=>[(u(!0),r(c,null,g(i(b)("rwdsjlzt"),((e,l)=>(u(),f(_,{key:l,value:Number(e.code),label:`[${e.code}] ${e.value}`},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:s((()=>[d(T,{label:"运行时间",prop:"runTime"},{default:s((()=>[d(k,{modelValue:O.value.runTime,"onUpdate:modelValue":l[5]||(l[5]=e=>O.value.runTime=e),type:"date",placeholder:"运行时间"},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:s((()=>[d(T,{label:"运行时长（秒）",prop:"duration"},{default:s((()=>[d(U,{modelValue:O.value.duration,"onUpdate:modelValue":l[6]||(l[6]=e=>O.value.duration=e),placeholder:"请输入运行时长（秒）",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:s((()=>[d(T,{label:"结束时间",prop:"finishTime"},{default:s((()=>[d(k,{modelValue:O.value.finishTime,"onUpdate:modelValue":l[7]||(l[7]=e=>O.value.finishTime=e),type:"date",placeholder:"结束时间"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-cb215e07"]]),U=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}));export{U as a,j as e,k as g,V as p};

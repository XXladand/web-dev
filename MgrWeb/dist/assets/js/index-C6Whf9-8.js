const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./previewDialog-CM4kKfTG.js","./monaco-editor-CQECKOpe.js","./jspdf-CH-AZmyM.js","./@babel-Q_QrznUx.js","./fflate-B3Xb404m.js","../css/monaco-editor-COrOZRKA.css","./commonFunction-aYLftPu5.js","./vue-clipboard3-De3GURIv.js","./clipboard-CKs6Xfnk.js","./formatTime-V_I984Ws.js","./vue-i18n-DOLUIXgH.js","./@intlify-8Jop7_C0.js","./vue-DMOwXDUL.js","./@vue-CX_mlhJe.js","./element-plus-B9gGnqkL.js","./lodash-es-Bx2dc0Qf.js","./@vueuse-DXufPiA3.js","./@element-plus-BOmeTCVz.js","./@sxzz-D3lHDW-0.js","./@ctrl-D2oWfImC.js","./dayjs-DCN6noHZ.js","./async-validator-Cuo4gI4y.js","./memoize-one-Ds0C_khL.js","./normalize-wheel-es-Vn5vHDCm.js","./@floating-ui-DHjS97uh.js","./index-DWGcUZYU.js","./pinia-CUaEdNPK.js","./vue-demi-DMxTsK9-.js","./vue-router-DCQgfElv.js","./js-cookie-BXEMiIsG.js","./nprogress-BXoedg-7.js","../css/nprogress-BUMXTAWU.css","./axios-CURSphCx.js","./mitt-CNZ6avp8.js","./vue-grid-layout-DUD0Qdrs.js","./vform3-builds-n_pM9nIF.js","../css/vform3-builds-CEBpYdMb.css","./vue-signature-pad-lyh4QR3Z.js","./signature_pad-edH0THtw.js","./merge-images-Cwm9rL5U.js","./vue3-tree-org-BzkJto3m.js","../css/vue3-tree-org-Dmn4BknF.css","./vue-plugin-hiprint-DZDwPE-S.js","./jquery-VSNIoD5U.js","./jsbarcode-BgYCXnWS.js","./socket.io-client-Czs-wWz3.js","./engine.io-client-CYjl6Vq_.js","./engine.io-parser-BcOgFIoq.js","./@socket.io-mcuM6LAc.js","./debug-CmirTkX5.js","./ms-CufoL-nS.js","./socket.io-parser-CnrqkM7d.js","./canvg-FiHv1N34.js","./core-js-BJmvCVxN.js","./raf-B8RiLMb0.js","./performance-now-D4QiMMAM.js","./rgbcolor-Cv9DR9SS.js","./svg-pathdata-BQypvdxQ.js","./stackblur-canvas-WbqePTkn.js","../css/index-DwgYOIMc.css","../css/animate-B-gXXBrj.css","./sys-code-gen-api-BI7DgiUl.js","./_plugin-vue_export-helper-BCo6x5W8.js","../css/previewDialog-Bj_Hg7jN.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./jspdf-CH-AZmyM.js";import{d as a,r as t,_ as o,j as l,ah as r,ap as i,o as s,c as n,V as p,P as m,a9 as u,Q as d,O as c,T as g,u as y,aU as f}from"./@vue-CX_mlhJe.js";import _ from"./editCodeGenDialog-PM72Nx70.js";import{_ as j}from"./genConfigDialog.vue_vue_type_script_setup_true_name_sysCodeGenConfig_lang-BNk1Dd5q.js";import{d as v}from"./download-8-Ly9gws.js";import{g as b}from"./index-DWGcUZYU.js";import{S as w}from"./sys-code-gen-api-BI7DgiUl.js";import{c as h,E as P}from"./element-plus-B9gGnqkL.js";import"./@babel-Q_QrznUx.js";import"./fflate-B3Xb404m.js";import"./index.vue_vue_type_script_setup_true_name_iconSelector_lang-Bt5ZQH5T.js";import"./@element-plus-BOmeTCVz.js";import"./sys-dict-data-api-Dup6m-Lx.js";import"./axios-CURSphCx.js";import"./sys-print-api-DvOEPwCj.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./nprogress-BXoedg-7.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./fkDialog.vue_vue_type_script_setup_true_name_sysCodeGenFk_lang-C5HbOnKA.js";import"./treeDialog.vue_vue_type_script_setup_true_name_sysCodeGenTree_lang-CZNqVJ28.js";const k={class:"sys-codeGen-container"},C=a({name:"sysCodeGen"}),T=a({...C,setup(a){const C=f((()=>e((()=>import("./previewDialog-CM4kKfTG.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63]),import.meta.url))),T=t(),x=t(),z=t(),N=o({loading:!1,loading1:!1,dbData:[],configId:"",tableData:[],tableName:"",queryParams:{name:void 0,code:void 0,tableName:void 0,busName:void 0},tableParams:{page:1,pageSize:10,total:0},editMenuTitle:"",applicationNamespaces:[]});l((async()=>{D();let e=await b(w).apiSysCodeGenApplicationNamespacesGet();N.applicationNamespaces=e.data.result}));const D=async()=>{var e,a;N.loading=!0;let t=Object.assign(N.queryParams,N.tableParams),o=await b(w).apiSysCodeGenPagePost(t);N.tableData=(null==(e=o.data.result)?void 0:e.items)??[],N.tableParams.total=null==(a=o.data.result)?void 0:a.total,N.loading=!1},S=()=>{N.queryParams.busName=void 0,N.queryParams.tableName=void 0,D()},G=e=>{N.tableParams.pageSize=e,D()},q=e=>{N.tableParams.page=e,D()},M=()=>{var e;N.editMenuTitle="增加",null==(e=T.value)||e.openDialog({authorName:"Site",generateType:"200",printType:"off",menuIcon:"ele-Menu",pagePath:"main",nameSpace:N.applicationNamespaces[0],generateMenu:!0})};return(e,a)=>{const t=r("el-input"),o=r("el-form-item"),l=r("el-button"),f=r("el-button-group"),V=r("el-form"),E=r("el-card"),R=r("el-table-column"),U=r("el-tag"),B=r("el-table"),I=r("el-pagination"),O=i("auth"),Q=i("loading");return s(),n("div",k,[p(E,{shadow:"hover","body-style":{paddingBottom:"0"}},{default:m((()=>[p(V,{model:N.queryParams,ref:"queryForm",inline:!0},{default:m((()=>[p(o,{label:"业务名"},{default:m((()=>[p(t,{placeholder:"业务名",clearable:"",onKeyup:u(D,["enter"]),modelValue:N.queryParams.busName,"onUpdate:modelValue":a[0]||(a[0]=e=>N.queryParams.busName=e)},null,8,["modelValue"])])),_:1}),p(o,{label:"数据库表名"},{default:m((()=>[p(t,{placeholder:"数据库表名",clearable:"",onKeyup:u(D,["enter"]),modelValue:N.queryParams.tableName,"onUpdate:modelValue":a[1]||(a[1]=e=>N.queryParams.tableName=e)},null,8,["modelValue"])])),_:1}),p(o,null,{default:m((()=>[p(f,null,{default:m((()=>[d((s(),c(l,{type:"primary",icon:"ele-Search",onClick:D},{default:m((()=>[g(" 查询 ")])),_:1})),[[O,"sysMenu:list"]]),p(l,{icon:"ele-Refresh",onClick:S},{default:m((()=>[g(" 重置 ")])),_:1})])),_:1})])),_:1}),p(o,null,{default:m((()=>[p(l,{type:"primary",icon:"ele-Plus",onClick:M},{default:m((()=>[g(" 增加 ")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),p(E,{class:"full-table",shadow:"hover",style:{"margin-top":"5px"}},{default:m((()=>[d((s(),c(B,{data:N.tableData,style:{width:"100%"},border:""},{default:m((()=>[p(R,{type:"index",label:"序号",width:"55",align:"center"}),p(R,{prop:"configId",label:"库定位器",align:"center","show-overflow-tooltip":""}),p(R,{prop:"tableName",label:"表名称",align:"center","show-overflow-tooltip":""}),p(R,{prop:"busName",label:"业务名",align:"center","show-overflow-tooltip":""}),p(R,{prop:"nameSpace",label:"命名空间",align:"center","show-overflow-tooltip":""}),p(R,{prop:"authorName",label:"作者姓名",align:"center","show-overflow-tooltip":""}),p(R,{prop:"generateType",label:"生成方式",align:"center","show-overflow-tooltip":""},{default:m((e=>[100==e.row.generateType?(s(),c(U,{key:0},{default:m((()=>[g(" 下载压缩包 ")])),_:1})):111==e.row.generateType?(s(),c(U,{key:1},{default:m((()=>[g(" 下载压缩包(前端) ")])),_:1})):121==e.row.generateType?(s(),c(U,{key:2},{default:m((()=>[g(" 下载压缩包(后端) ")])),_:1})):211==e.row.generateType?(s(),c(U,{key:3},{default:m((()=>[g(" 生成到本项目(前端) ")])),_:1})):221==e.row.generateType?(s(),c(U,{key:4},{default:m((()=>[g(" 生成到本项目(后端) ")])),_:1})):(s(),c(U,{key:5,type:"danger"},{default:m((()=>[g(" 生成到本项目 ")])),_:1}))])),_:1}),p(R,{label:"操作",width:"350",fixed:"right",align:"center","show-overflow-tooltip":""},{default:m((e=>[p(l,{icon:"ele-Position",size:"small",text:"",type:"primary",onClick:a=>{return t=e.row,void h.confirm("确定要生成吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{var e=await b(w).apiSysCodeGenRunLocalPost(t);null!=e.data.result&&null!=e.data.result.url&&v({url:e.data.result.url}),D(),P.success("操作成功")})).catch((()=>{}));var t}},{default:m((()=>[g("开始生成")])),_:2},1032,["onClick"]),p(l,{icon:"ele-View",size:"small",text:"",type:"primary",onClick:a=>{return t=e.row,N.editMenuTitle="预览代码",void(null==(o=z.value)||o.openDialog(t));var t,o}},{default:m((()=>[g("预览")])),_:2},1032,["onClick"]),p(l,{icon:"ele-Setting",size:"small",text:"",type:"primary",onClick:a=>{return t=e.row,void(null==(o=x.value)||o.openDialog(t));var t,o}},{default:m((()=>[g("配置")])),_:2},1032,["onClick"]),p(l,{icon:"ele-Edit",size:"small",text:"",type:"primary",onClick:a=>{return t=e.row,N.editMenuTitle="编辑",void(null==(o=T.value)||o.openDialog(t));var t,o}},{default:m((()=>[g("编辑")])),_:2},1032,["onClick"]),p(l,{icon:"ele-Delete",size:"small",text:"",type:"danger",onClick:a=>{return t=e.row,void h.confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await b(w).apiSysCodeGenDeletePost([{id:t.id}]),D(),P.success("操作成功")})).catch((()=>{}));var t}},{default:m((()=>[g("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Q,N.loading]]),p(I,{currentPage:N.tableParams.page,"onUpdate:currentPage":a[2]||(a[2]=e=>N.tableParams.page=e),"page-size":N.tableParams.pageSize,"onUpdate:pageSize":a[3]||(a[3]=e=>N.tableParams.pageSize=e),total:N.tableParams.total,"page-sizes":[10,20,50,100],size:"small",background:"",onSizeChange:G,onCurrentChange:q,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])])),_:1}),p(_,{title:N.editMenuTitle,ref_key:"EditCodeGenRef",ref:T,onHandleQuery:D,"application-namespaces":N.applicationNamespaces},null,8,["title","application-namespaces"]),p(j,{ref_key:"CodeConfigRef",ref:x,onHandleQuery:D},null,512),p(y(C),{title:N.editMenuTitle,ref_key:"PreviewRef",ref:z},null,8,["title"])])}}});export{T as default};

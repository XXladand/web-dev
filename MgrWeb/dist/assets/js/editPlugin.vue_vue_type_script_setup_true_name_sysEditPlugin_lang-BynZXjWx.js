import{e}from"./monaco-editor-CQECKOpe.js";import{B as a,j as s,R as t,g as o}from"./index-DWGcUZYU.js";import{a as n}from"./axios-CURSphCx.js";import{E as l}from"./element-plus-B9gGnqkL.js";import{d as r,r as i,_ as c,ah as u,o as p,c as m,V as d,P as h,a as y,U as g,T as P}from"./@vue-CX_mlhJe.js";const f=function(e){return{apiSysPluginAddPost:async(a,s={})=>{const t=new URL("/api/sysPlugin/add","https://example.com");let o;e&&(o=e.baseOptions);const n={method:"POST",...o,...s},l={},r={};if(e&&e.accessToken){const a="function"==typeof e.accessToken?await e.accessToken():await e.accessToken;l.Authorization="Bearer "+a}l["Content-Type"]="application/json-patch+json";const i=new URLSearchParams(t.search);for(const e in r)i.set(e,r[e]);for(const e in s.params)i.set(e,s.params[e]);t.search=new URLSearchParams(i).toString();let c=o&&o.headers?o.headers:{};n.headers={...l,...c,...s.headers};const u="string"!=typeof a||"application/json"===n.headers["Content-Type"];return n.data=u?JSON.stringify(void 0!==a?a:{}):a||"",{url:t.pathname+t.search+t.hash,options:n}},apiSysPluginCompileAssemblyPost:async(a,s,t={})=>{const o=new URL("/api/sysPlugin/compileAssembly","https://example.com");let n;e&&(n=e.baseOptions);const l={method:"POST",...n,...t},r={},i={};if(e&&e.accessToken){const a="function"==typeof e.accessToken?await e.accessToken():await e.accessToken;r.Authorization="Bearer "+a}void 0!==s&&(i.assemblyName=s),r["Content-Type"]="application/json-patch+json";const c=new URLSearchParams(o.search);for(const e in i)c.set(e,i[e]);for(const e in t.params)c.set(e,t.params[e]);o.search=new URLSearchParams(c).toString();let u=n&&n.headers?n.headers:{};l.headers={...r,...u,...t.headers};const p="string"!=typeof a||"application/json"===l.headers["Content-Type"];return l.data=p?JSON.stringify(void 0!==a?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:l}},apiSysPluginDeletePost:async(a,s={})=>{const t=new URL("/api/sysPlugin/delete","https://example.com");let o;e&&(o=e.baseOptions);const n={method:"POST",...o,...s},l={},r={};if(e&&e.accessToken){const a="function"==typeof e.accessToken?await e.accessToken():await e.accessToken;l.Authorization="Bearer "+a}l["Content-Type"]="application/json-patch+json";const i=new URLSearchParams(t.search);for(const e in r)i.set(e,r[e]);for(const e in s.params)i.set(e,s.params[e]);t.search=new URLSearchParams(i).toString();let c=o&&o.headers?o.headers:{};n.headers={...l,...c,...s.headers};const u="string"!=typeof a||"application/json"===n.headers["Content-Type"];return n.data=u?JSON.stringify(void 0!==a?a:{}):a||"",{url:t.pathname+t.search+t.hash,options:n}},apiSysPluginPagePost:async(a,s={})=>{const t=new URL("/api/sysPlugin/page","https://example.com");let o;e&&(o=e.baseOptions);const n={method:"POST",...o,...s},l={},r={};if(e&&e.accessToken){const a="function"==typeof e.accessToken?await e.accessToken():await e.accessToken;l.Authorization="Bearer "+a}l["Content-Type"]="application/json-patch+json";const i=new URLSearchParams(t.search);for(const e in r)i.set(e,r[e]);for(const e in s.params)i.set(e,s.params[e]);t.search=new URLSearchParams(i).toString();let c=o&&o.headers?o.headers:{};n.headers={...l,...c,...s.headers};const u="string"!=typeof a||"application/json"===n.headers["Content-Type"];return n.data=u?JSON.stringify(void 0!==a?a:{}):a||"",{url:t.pathname+t.search+t.hash,options:n}},apiSysPluginRemoveAssemblyAssemblyNamePost:async(a,s={})=>{if(null==a)throw new t("assemblyName","Required parameter assemblyName was null or undefined when calling apiSysPluginRemoveAssemblyAssemblyNamePost.");const o="/api/sysPlugin/removeAssembly/{assemblyName}".replace("{assemblyName}",encodeURIComponent(String(a))),n=new URL(o,"https://example.com");let l;e&&(l=e.baseOptions);const r={method:"POST",...l,...s},i={},c={};if(e&&e.accessToken){const a="function"==typeof e.accessToken?await e.accessToken():await e.accessToken;i.Authorization="Bearer "+a}const u=new URLSearchParams(n.search);for(const e in c)u.set(e,c[e]);for(const e in s.params)u.set(e,s.params[e]);n.search=new URLSearchParams(u).toString();let p=l&&l.headers?l.headers:{};return r.headers={...i,...p,...s.headers},{url:n.pathname+n.search+n.hash,options:r}},apiSysPluginUpdatePost:async(a,s={})=>{const t=new URL("/api/sysPlugin/update","https://example.com");let o;e&&(o=e.baseOptions);const n={method:"POST",...o,...s},l={},r={};if(e&&e.accessToken){const a="function"==typeof e.accessToken?await e.accessToken():await e.accessToken;l.Authorization="Bearer "+a}l["Content-Type"]="application/json-patch+json";const i=new URLSearchParams(t.search);for(const e in r)i.set(e,r[e]);for(const e in s.params)i.set(e,s.params[e]);t.search=new URLSearchParams(i).toString();let c=o&&o.headers?o.headers:{};n.headers={...l,...c,...s.headers};const u="string"!=typeof a||"application/json"===n.headers["Content-Type"];return n.data=u?JSON.stringify(void 0!==a?a:{}):a||"",{url:t.pathname+t.search+t.hash,options:n}}}},S=function(e){return{async apiSysPluginAddPost(a,t){const o=await f(e).apiSysPluginAddPost(a,t);return(e=n,a=s)=>{const t={...o.options,url:a+o.url};return e.request(t)}},async apiSysPluginCompileAssemblyPost(a,t,o){const l=await f(e).apiSysPluginCompileAssemblyPost(a,t,o);return(e=n,a=s)=>{const t={...l.options,url:a+l.url};return e.request(t)}},async apiSysPluginDeletePost(a,t){const o=await f(e).apiSysPluginDeletePost(a,t);return(e=n,a=s)=>{const t={...o.options,url:a+o.url};return e.request(t)}},async apiSysPluginPagePost(a,t){const o=await f(e).apiSysPluginPagePost(a,t);return(e=n,a=s)=>{const t={...o.options,url:a+o.url};return e.request(t)}},async apiSysPluginRemoveAssemblyAssemblyNamePost(a,t){const o=await f(e).apiSysPluginRemoveAssemblyAssemblyNamePost(a,t);return(e=n,a=s)=>{const t={...o.options,url:a+o.url};return e.request(t)}},async apiSysPluginUpdatePost(a,t){const o=await f(e).apiSysPluginUpdatePost(a,t);return(e=n,a=s)=>{const t={...o.options,url:a+o.url};return e.request(t)}}}};class b extends a{async apiSysPluginAddPost(e,a){return S(this.configuration).apiSysPluginAddPost(e,a).then((e=>e(this.axios,this.basePath)))}async apiSysPluginCompileAssemblyPost(e,a,s){return S(this.configuration).apiSysPluginCompileAssemblyPost(e,a,s).then((e=>e(this.axios,this.basePath)))}async apiSysPluginDeletePost(e,a){return S(this.configuration).apiSysPluginDeletePost(e,a).then((e=>e(this.axios,this.basePath)))}async apiSysPluginPagePost(e,a){return S(this.configuration).apiSysPluginPagePost(e,a).then((e=>e(this.axios,this.basePath)))}async apiSysPluginRemoveAssemblyAssemblyNamePost(e,a){return S(this.configuration).apiSysPluginRemoveAssemblyAssemblyNamePost(e,a).then((e=>e(this.axios,this.basePath)))}async apiSysPluginUpdatePost(e,a){return S(this.configuration).apiSysPluginUpdatePost(e,a).then((e=>e(this.axios,this.basePath)))}}const w={class:"sys-plugin-container"},T={style:{color:"#fff"}},U={class:"dialog-footer"},k=r({name:"sysEditPlugin"}),x=r({...k,props:{title:String},emits:["handleQuery"],setup(a,{expose:s,emit:t}){const n=a,r=t,f=i(),S=i(),k=c({isShowDialog:!1,ruleForm:{},selectedTabName:"0"});var x=null;const A=()=>{k.isShowDialog=!1},R=()=>{f.value.validate((async e=>{e&&(k.ruleForm.csharpCode=x.getValue(),k.ruleForm.csharpCode.length<100?l.warning("请正确编写 C# 代码"):(null!=k.ruleForm.id&&k.ruleForm.id>0?await o(b).apiSysPluginUpdatePost(k.ruleForm):await o(b).apiSysPluginAddPost(k.ruleForm),r("handleQuery"),k.isShowDialog=!1))}))};return s({openDialog:a=>{var s;k.ruleForm=JSON.parse(JSON.stringify(a)),k.isShowDialog=!0,null==(s=f.value)||s.resetFields(),setTimeout((()=>{null==x&&(x=e.create(S.value,{theme:"vs-dark",value:"",language:"csharp",formatOnPaste:!0,wordWrap:"on",wrappingIndent:"indent",folding:!0,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"auto",lineNumbers:"on",lineNumbersMinChars:5,readOnly:!1}))}),1)}}),(e,a)=>{const s=u("ele-Edit"),t=u("el-icon"),o=u("el-input"),l=u("el-form-item"),r=u("el-col"),i=u("el-input-number"),c=u("el-radio"),b=u("el-radio-group"),x=u("el-row"),v=u("el-form"),C=u("el-tab-pane"),N=u("el-tabs"),_=u("el-button"),L=u("el-dialog");return p(),m("div",w,[d(L,{modelValue:k.isShowDialog,"onUpdate:modelValue":a[6]||(a[6]=e=>k.isShowDialog=e),draggable:"","close-on-click-modal":!1,width:"900px"},{header:h((()=>[y("div",T,[d(t,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:h((()=>[d(s)])),_:1}),y("span",null,g(n.title),1)])])),footer:h((()=>[y("span",U,[d(_,{onClick:A},{default:h((()=>[P("取 消")])),_:1}),d(_,{type:"primary",onClick:R},{default:h((()=>[P("确 定")])),_:1})])])),default:h((()=>[d(N,{modelValue:k.selectedTabName,"onUpdate:modelValue":a[5]||(a[5]=e=>k.selectedTabName=e)},{default:h((()=>[d(C,{label:"插件信息"},{default:h((()=>[d(v,{model:k.ruleForm,ref_key:"ruleFormRef",ref:f,"label-width":"auto",style:{height:"500px"}},{default:h((()=>[d(x,{gutter:35},{default:h((()=>[d(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:h((()=>[d(l,{label:"功能名称",prop:"name",rules:[{required:!0,message:"功能名称不能为空",trigger:"blur"}]},{default:h((()=>[d(o,{modelValue:k.ruleForm.name,"onUpdate:modelValue":a[0]||(a[0]=e=>k.ruleForm.name=e),placeholder:"功能名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),d(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:h((()=>[d(l,{label:"程序集名称"},{default:h((()=>[d(o,{modelValue:k.ruleForm.assemblyName,"onUpdate:modelValue":a[1]||(a[1]=e=>k.ruleForm.assemblyName=e),placeholder:"程序集名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),d(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:h((()=>[d(l,{label:"排序"},{default:h((()=>[d(i,{modelValue:k.ruleForm.orderNo,"onUpdate:modelValue":a[2]||(a[2]=e=>k.ruleForm.orderNo=e),placeholder:"排序",class:"w100"},null,8,["modelValue"])])),_:1})])),_:1}),d(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:h((()=>[d(l,{label:"状态"},{default:h((()=>[d(b,{modelValue:k.ruleForm.status,"onUpdate:modelValue":a[3]||(a[3]=e=>k.ruleForm.status=e)},{default:h((()=>[d(c,{value:1},{default:h((()=>[P("启用")])),_:1}),d(c,{value:2},{default:h((()=>[P("禁用")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:h((()=>[d(l,{label:"备注"},{default:h((()=>[d(o,{modelValue:k.ruleForm.remark,"onUpdate:modelValue":a[4]||(a[4]=e=>k.ruleForm.remark=e),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),d(C,{label:"C# 代码"},{default:h((()=>[y("div",{ref_key:"monacoEditorRef",ref:S,style:{width:"100%",height:"500px"}},null,512)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}});export{b as S,x as _};

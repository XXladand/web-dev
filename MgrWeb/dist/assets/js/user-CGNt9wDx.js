const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./userNews-Db0ENsnK.js","./@vue-CX_mlhJe.js","./@wangeditor-Ur0005c_.js","../css/@wangeditor-ClYh1QsV.css","./index-DWGcUZYU.js","./pinia-CUaEdNPK.js","./vue-demi-DMxTsK9-.js","./vue-DMOwXDUL.js","./@babel-Q_QrznUx.js","./jspdf-CH-AZmyM.js","./fflate-B3Xb404m.js","./vue-router-DCQgfElv.js","./vue-i18n-DOLUIXgH.js","./@intlify-8Jop7_C0.js","./js-cookie-BXEMiIsG.js","./@element-plus-BOmeTCVz.js","./nprogress-BXoedg-7.js","../css/nprogress-BUMXTAWU.css","./axios-CURSphCx.js","./element-plus-B9gGnqkL.js","./lodash-es-Bx2dc0Qf.js","./@vueuse-DXufPiA3.js","./@sxzz-D3lHDW-0.js","./@ctrl-D2oWfImC.js","./dayjs-DCN6noHZ.js","./async-validator-Cuo4gI4y.js","./memoize-one-Ds0C_khL.js","./normalize-wheel-es-Vn5vHDCm.js","./@floating-ui-DHjS97uh.js","./mitt-CNZ6avp8.js","./vue-grid-layout-DUD0Qdrs.js","./vform3-builds-n_pM9nIF.js","../css/vform3-builds-CEBpYdMb.css","./vue-signature-pad-lyh4QR3Z.js","./signature_pad-edH0THtw.js","./merge-images-Cwm9rL5U.js","./vue3-tree-org-BzkJto3m.js","../css/vue3-tree-org-Dmn4BknF.css","./vue-plugin-hiprint-DZDwPE-S.js","./jquery-VSNIoD5U.js","./jsbarcode-BgYCXnWS.js","./socket.io-client-Czs-wWz3.js","./engine.io-client-CYjl6Vq_.js","./engine.io-parser-BcOgFIoq.js","./@socket.io-mcuM6LAc.js","./debug-CmirTkX5.js","./ms-CufoL-nS.js","./socket.io-parser-CnrqkM7d.js","./canvg-FiHv1N34.js","./core-js-BJmvCVxN.js","./raf-B8RiLMb0.js","./performance-now-D4QiMMAM.js","./rgbcolor-Cv9DR9SS.js","./svg-pathdata-BQypvdxQ.js","./stackblur-canvas-WbqePTkn.js","../css/index-DwgYOIMc.css","../css/animate-B-gXXBrj.css","./commonFunction-aYLftPu5.js","./vue-clipboard3-De3GURIv.js","./clipboard-CKs6Xfnk.js","./formatTime-V_I984Ws.js","./sys-notice-api-BafTVakZ.js","./_plugin-vue_export-helper-BCo6x5W8.js","../css/userNews-CwTODDeg.css","./search-BCshaVRB.js","../css/search-D3HhB6Nw.css","./index-D_U1Esmd.js","./signalR-D9h6ejlC.js","./@microsoft-BNXrp5LF.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./jspdf-CH-AZmyM.js";import{b as s}from"./vue-router-DCQgfElv.js";import{s as t}from"./screenfull-Cy98P-Xu.js";import{v as a}from"./vue-i18n-DOLUIXgH.js";import{s as o}from"./pinia-CUaEdNPK.js";import{a as i,u as l,L as r,g as n,e as u,S as m,y as d,o as c}from"./index-DWGcUZYU.js";import{S as p}from"./sys-notice-api-BafTVakZ.js";import{P as g}from"./push.js-DMY1Nbze.js";import{c as b}from"./signalR-D9h6ejlC.js";import{e as f,E as j,c as v}from"./element-plus-B9gGnqkL.js";import{d as h,r as _,_ as w,k as y,j as S,ah as C,o as z,c as k,V as L,P as I,T as E,U as $,a as x,J as O,u as P,K as T,aU as D,bm as N,bk as B}from"./@vue-CX_mlhJe.js";import{_ as R}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./@babel-Q_QrznUx.js";import"./fflate-B3Xb404m.js";import"./@intlify-8Jop7_C0.js";import"./vue-DMOwXDUL.js";import"./vue-demi-DMxTsK9-.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./@microsoft-BNXrp5LF.js";const U=e=>(N("data-v-9084b347"),e=e(),B(),e),A={class:"layout-navbars-breadcrumb-user-icon"},q=["title"],V={class:"layout-navbars-breadcrumb-user-icon"},M=["title"],G=["title"],F={class:"layout-navbars-breadcrumb-user-icon"},K=["title"],X={class:"layout-navbars-breadcrumb-user-link"},J=U((()=>x("br",null,null,-1))),Q=U((()=>x("br",null,null,-1))),W=U((()=>x("br",null,null,-1))),H=U((()=>x("br",null,null,-1))),Y=U((()=>x("br",null,null,-1))),Z=U((()=>x("br",null,null,-1))),ee=["src"],se=h({name:"layoutBreadcrumbUser"}),te=R(h({...se,setup(h){const N=D((()=>e((()=>import("./userNews-Db0ENsnK.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63]),import.meta.url))),B=D((()=>e((()=>import("./search-BCshaVRB.js")),__vite__mapDeps([64,11,1,12,13,8,7,5,6,4,9,10,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,62,65]),import.meta.url))),R=D((()=>e((()=>import("./index-D_U1Esmd.js")),__vite__mapDeps([66,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,67,68]),import.meta.url))),{locale:U,t:se}=a.useI18n(),te=s(),ae=i(),oe=l(),{userInfos:ie}=o(ae),{themeConfig:le}=o(oe),re=_(),ne=_(),ue=w({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large",noticeList:[]}),me=y((()=>{let e="";const{layout:s,isClassicSplitMenu:t}=le.value;return e=["defaults","columns"].includes(s)||"classic"===s&&!t?"1":"",e})),de=y((()=>ue.noticeList.some((e=>null==e.readStatus||0==e.readStatus)))),ce=()=>{if(!t.isEnabled)return j.warning("暂不不支持全屏"),!1;t.toggle(),t.on("change",(()=>{t.isFullscreen?ue.isScreenfull=!0:ue.isScreenfull=!1}))},pe=()=>{u.emit("openSettingsDrawer")},ge=e=>{"logOut"===e?v({closeOnClickModal:!1,closeOnPressEscape:!1,title:se("message.user.logOutTitle"),message:se("message.user.logOutMessage"),type:"warning",showCancelButton:!0,confirmButtonText:se("message.user.logOutConfirm"),cancelButtonText:se("message.user.logOutCancel"),buttonSize:"default",beforeClose:async(e,s,t)=>{"confirm"===e?(s.confirmButtonLoading=!0,s.confirmButtonText=se("message.user.logOutExit"),await n(m).apiSysAuthLogoutPost(),s.confirmButtonLoading=!1,t()):t()}}).then((async()=>{d()})).catch((()=>{})):te.push(e)},be=()=>{re.value.openSearch()},fe=()=>{ne.value.openDrawer()},je=e=>{r.remove("themeConfig"),le.value.globalComponentSize=e,r.set("themeConfig",le.value),he("globalComponentSize","disabledSize"),window.location.reload()},ve=e=>{r.remove("themeConfig"),le.value.globalI18n=e,r.set("themeConfig",le.value),U.value=e,c.useTitle(),he("globalI18n","disabledI18n")},he=(e,s)=>{ue[s]=r.get("themeConfig")[e]};S((async()=>{r.get("themeConfig")&&(he("globalComponentSize","disabledSize"),he("globalI18n","disabledI18n")),g.Permission.GRANTED&&g.Permission.request(null,null),document.addEventListener("visibilitychange",(()=>{document.hidden||g.clear()}));var e=await n(p).apiSysNoticeUnReadListGet();ue.noticeList=e.data.result??[],b.on("PublicNotice",_e)}));const _e=e=>{ue.noticeList.unshift(e),f({title:"提示",message:"您有一条新消息...",type:"info",position:"bottom-right"}),g.create("提示",{body:"你有一条新的消息",icon:"logo.png",timeout:4500})};return(e,s)=>{const t=C("el-dropdown-item"),a=C("el-dropdown-menu"),o=C("el-dropdown"),i=C("ele-Search"),l=C("el-icon"),r=C("ele-Bell"),n=C("el-badge"),u=C("el-popover"),m=C("ele-User"),d=C("el-tooltip"),c=C("ele-ArrowDown");return z(),k("div",{class:"layout-navbars-breadcrumb-user pr15",style:T({flex:me.value})},[L(o,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:je},{dropdown:I((()=>[L(a,null,{default:I((()=>[L(t,{command:"large",disabled:"large"===ue.disabledSize},{default:I((()=>[E($(e.$t("message.user.dropdownLarge")),1)])),_:1},8,["disabled"]),L(t,{command:"default",disabled:"default"===ue.disabledSize},{default:I((()=>[E($(e.$t("message.user.dropdownDefault")),1)])),_:1},8,["disabled"]),L(t,{command:"small",disabled:"small"===ue.disabledSize},{default:I((()=>[E($(e.$t("message.user.dropdownSmall")),1)])),_:1},8,["disabled"])])),_:1})])),default:I((()=>[x("div",A,[x("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,q)])])),_:1}),L(o,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:ve},{dropdown:I((()=>[L(a,null,{default:I((()=>[L(t,{command:"zh-cn",disabled:"zh-cn"===ue.disabledI18n},{default:I((()=>[E("简体中文")])),_:1},8,["disabled"]),L(t,{command:"en",disabled:"en"===ue.disabledI18n},{default:I((()=>[E("English")])),_:1},8,["disabled"]),L(t,{command:"zh-tw",disabled:"zh-tw"===ue.disabledI18n},{default:I((()=>[E("繁體中文")])),_:1},8,["disabled"])])),_:1})])),default:I((()=>[x("div",V,[x("i",{class:O(["iconfont","en"===ue.disabledI18n?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,M)])])),_:1}),x("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:be},[L(l,{title:e.$t("message.user.title2")},{default:I((()=>[L(i)])),_:1},8,["title"])]),x("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:pe},[x("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,G)]),x("div",F,[L(u,{placement:"bottom",trigger:"hover",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:I((()=>[L(n,{"is-dot":de.value},{default:I((()=>[L(l,{title:e.$t("message.user.title4")},{default:I((()=>[L(r)])),_:1},8,["title"])])),_:1},8,["is-dot"])])),default:I((()=>[L(P(N),{noticeList:ue.noticeList},null,8,["noticeList"])])),_:1})]),x("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:ce},[x("i",{class:O(["iconfont",ue.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:ue.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,K)]),x("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:fe},[L(l,{title:"在线用户"},{default:I((()=>[L(m)])),_:1})]),L(o,{"show-timeout":70,"hide-timeout":50,onCommand:ge},{dropdown:I((()=>[L(a,null,{default:I((()=>[L(t,{command:"/system/userCenter"},{default:I((()=>[E($(e.$t("message.user.dropdown2")),1)])),_:1}),L(t,{divided:"",command:"logOut"},{default:I((()=>[E($(e.$t("message.user.dropdown5")),1)])),_:1})])),_:1})])),default:I((()=>[x("span",X,[L(d,{effect:"dark",placement:"left"},{content:I((()=>[E(" 账号："+$(P(ie).account),1),J,E(" 姓名："+$(P(ie).realName),1),Q,E(" 电话："+$(P(ie).phone),1),W,E(" 邮箱："+$(P(ie).email),1),H,E(" 部门："+$(P(ie).orgName),1),Y,E(" 职位："+$(P(ie).posName),1),Z])),default:I((()=>[x("img",{src:P(ie).avatar,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,ee)])),_:1}),E(" "+$(""==P(ie).realName?P(ie).account:P(ie).realName)+" ",1),L(l,{class:"el-icon--right"},{default:I((()=>[L(c)])),_:1})])])),_:1}),L(P(B),{ref_key:"searchRef",ref:re},null,512),L(P(R),{ref_key:"onlineUserRef",ref:ne},null,512)],4)}}}),[["__scopeId","data-v-9084b347"]]);export{te as default};

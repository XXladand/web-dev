import{d as e,r as a,j as l,ah as s,o as t,c as o,V as r,P as i,a as u,U as m,u as p,T as d,Q as n,F as c,a8 as j,W as v,O as g}from"./@vue-CX_mlhJe.js";import{g as f}from"./dict-utils-LXnBJ9wT.js";import{d as b,a as y,u as _,g as k}from"./netTaskProcess-EgqO0HBq.js";import{G as h,E as T}from"./netSearch-R0ZFwHor.js";import{E as V}from"./element-plus-B9gGnqkL.js";import{_ as x}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-DWGcUZYU.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./request-Cv12-fnH.js";const w={class:"netTaskProcess-container"},U={style:{color:"#fff"}},I={class:"dialog-footer"},$=x(e({__name:"editDialog",props:{title:{type:String,default:""}},emits:["reloadTable"],setup(e,{expose:x,emit:$}){var q=e;const L=$,S=a(),z=a(!1),D=a({}),E=a([]),N=a({netTaskId:[{required:!0,message:"请选择任务！",trigger:"change"}],processType:[{required:!0,message:"请选择处理类型！",trigger:"change"}],tanslateLanguage:[{validator:(e,a,l)=>{const s=D.value.processType;3!==s&&4!==s||a?l():l(new Error("请选择翻译语言！"))},trigger:"change"}]});l((()=>{h({type:T.BingTranslate}).then((e=>{E.value=e.data.result}))}));const O=()=>{z.value=!1},P=async()=>{S.value.validate((async(e,a)=>{if(e){let e=D.value;null==D.value.id||null==D.value.id||""==D.value.id||0==D.value.id?await y(e):await _(e),L("reloadTable"),z.value=!1}else V({message:`表单有${Object.keys(a).length}处验证失败，请修改后再提交`,type:"error"})}))},C=a([]);return(async()=>{let e=await k();C.value=e.data.result??[]})(),x({openDialog:async e=>{let a=JSON.parse(JSON.stringify(e));a.id?D.value=(await b(a.id)).data.result:D.value=a,z.value=!0}}),(e,a)=>{const l=s("el-input"),b=s("el-form-item"),y=s("el-option"),_=s("el-select"),k=s("el-col"),h=s("el-row"),T=s("el-form"),V=s("el-button"),x=s("el-dialog");return t(),o("div",w,[r(x,{modelValue:z.value,"onUpdate:modelValue":a[4]||(a[4]=e=>z.value=e),width:800,draggable:"","close-on-click-modal":!1},{header:i((()=>[u("div",U,[u("span",null,m(p(q).title),1)])])),footer:i((()=>[u("span",I,[r(V,{onClick:O},{default:i((()=>[d("取 消")])),_:1}),r(V,{type:"primary",onClick:P},{default:i((()=>[d("确 定")])),_:1})])])),default:i((()=>[r(T,{model:D.value,ref_key:"ruleFormRef",ref:S,"label-width":"auto",rules:N.value},{default:i((()=>[r(h,{gutter:35},{default:i((()=>[n(r(b,null,{default:i((()=>[r(l,{modelValue:D.value.id,"onUpdate:modelValue":a[0]||(a[0]=e=>D.value.id=e)},null,8,["modelValue"])])),_:1},512),[[v,!1]]),r(k,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:i((()=>[r(b,{label:"任务",prop:"netTaskId"},{default:i((()=>[r(_,{clearable:"",filterable:"",modelValue:D.value.netTaskId,"onUpdate:modelValue":a[1]||(a[1]=e=>D.value.netTaskId=e),placeholder:"请选择任务"},{default:i((()=>[(t(!0),o(c,null,j(C.value,((e,a)=>(t(),g(y,{key:a,value:e.value,label:e.label+"_"+e.value},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),r(k,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:i((()=>[r(b,{label:"处理类型",prop:"processType"},{default:i((()=>[r(_,{clearable:"",modelValue:D.value.processType,"onUpdate:modelValue":a[2]||(a[2]=e=>D.value.processType=e),placeholder:"请选择处理类型"},{default:i((()=>[(t(!0),o(c,null,j(p(f)("cllx"),((e,a)=>(t(),g(y,{key:a,value:Number(e.code),label:`[${e.code}] ${e.value}`},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),r(k,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:i((()=>[r(b,{label:"翻译语言",prop:"tanslateLanguage"},{default:i((()=>[r(_,{clearable:"",modelValue:D.value.tanslateLanguage,"onUpdate:modelValue":a[3]||(a[3]=e=>D.value.tanslateLanguage=e),placeholder:"翻译语言",filterable:""},{default:i((()=>[(t(!0),o(c,null,j(E.value,((e,a)=>(t(),g(y,{key:a,value:e.code,label:`[${e.code}] ${e.name}`},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-1bf1a71c"]]);export{$ as default};

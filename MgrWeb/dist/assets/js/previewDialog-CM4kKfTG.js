import{W as e,e as o}from"./monaco-editor-CQECKOpe.js";import{c as s}from"./commonFunction-aYLftPu5.js";import{g as i}from"./index-DWGcUZYU.js";import{S as t}from"./sys-code-gen-api-BI7DgiUl.js";import{d as r,r as a,_ as l,ah as n,o as p,c as m,V as d,P as c,a as u,U as j,T as g,J as v,n as f}from"./@vue-CX_mlhJe.js";import{_ as h}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./jspdf-CH-AZmyM.js";import"./@babel-Q_QrznUx.js";import"./fflate-B3Xb404m.js";import"./vue-clipboard3-De3GURIv.js";import"./clipboard-CKs6Xfnk.js";import"./formatTime-V_I984Ws.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./vue-DMOwXDUL.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@element-plus-BOmeTCVz.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-router-DCQgfElv.js";import"./js-cookie-BXEMiIsG.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";const y={class:"sys-codeGenPreview-container"},b={style:{color:"#fff"}},w={class:"pd4"},k={class:"dialog-footer"},C=r({name:"sysPreviewCode"}),_=h(r({...C,props:{title:String},setup(r,{expose:h}){const{copyText:C}=s(),_=r,S=a(),x=l({isShowDialog:!1,options:[],current:"",codes:[]});self.MonacoEnvironment={getWorker:(o,s)=>new e};var D=null;const V=e=>{D.setValue(x.codes[e])},P=()=>{x.isShowDialog=!1},W=()=>{C(x.codes[x.current])};return h({openDialog:async e=>{var s,r;x.isShowDialog=!0;const{data:a}=await i(t).apiSysCodeGenPreviewPost(e);x.codes=a.result??[],x.options=Object.keys(a.result).map((e=>({value:e,icon:(null==e?void 0:e.endsWith(".cs"))?"fa fa-hashtag":(null==e?void 0:e.endsWith(".vue"))?"fa fa-vimeo":"fa fa-file-code-o"}))),x.current=(null==(r=null==(s=x.options)?void 0:s[0])?void 0:r.value)??"",null==D&&(D=o.create(S.value,{theme:"vs-dark",value:"",language:"csharp",formatOnPaste:!0,wordWrap:"on",wrappingIndent:"indent",folding:!0,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"auto",lineNumbers:"on",lineNumbersMinChars:5,readOnly:!1})),f((()=>{D.setValue(x.codes[x.current])}))}}),(e,o)=>{const s=n("ele-Edit"),i=n("el-icon"),t=n("SvgIcon"),r=n("el-segmented"),a=n("el-button"),l=n("el-dialog");return p(),m("div",y,[d(l,{modelValue:x.isShowDialog,"onUpdate:modelValue":o[1]||(o[1]=e=>x.isShowDialog=e),draggable:"","close-on-click-modal":!1,width:"70%"},{header:c((()=>[u("div",b,[d(i,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:c((()=>[d(s)])),_:1}),u("span",null,j(_.title),1)])])),footer:c((()=>[u("span",k,[d(a,{icon:"ele-Close",onClick:P},{default:c((()=>[g("关 闭")])),_:1}),d(a,{icon:"ele-CopyDocument",type:"primary",onClick:W},{default:c((()=>[g("复 制")])),_:1})])])),default:c((()=>{var e,s;return[u("div",{class:v([(null==(e=x.current)?void 0:e.endsWith(".cs"))?"cs-style":(null==(s=x.current)?void 0:s.endsWith(".vue"))?"vue-style":"js-style"])},[d(r,{modelValue:x.current,"onUpdate:modelValue":o[0]||(o[0]=e=>x.current=e),options:x.options,block:"",onChange:V},{default:c((({item:e})=>[u("div",w,[d(t,{name:e.icon,class:"mb4"},null,8,["name"]),u("div",null,j(e.value),1)])])),_:1},8,["modelValue","options"])],2),u("div",{ref_key:"monacoEditorRef",ref:S,style:{width:"100%",height:"700px"}},null,512)]})),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-b2d9a5ec"]]);export{_ as default};

import{S as e}from"./vue-json-pretty-C2Gqq-RF.js";import{v as t}from"./vue-plugin-hiprint-DZDwPE-S.js";import i from"./preview-CrGrIBDL.js";import{c as l,E as a}from"./element-plus-B9gGnqkL.js";import{d as n,r as o,_ as r,k as d,j as p,ah as s,o as m,c as u,V as c,P as h,F as g,a8 as f,T as E,a as M,u as y,bm as b,bk as v,O as x,U as T}from"./@vue-CX_mlhJe.js";import{_ as A}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./jquery-VSNIoD5U.js";import"./@babel-Q_QrznUx.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@element-plus-BOmeTCVz.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";const G=""+new URL("../png/logo-CmSGJ2XA.png",import.meta.url).href,D=[{name:"A设计",value:"aProviderModule",type:1,f:{addElementTypes:function(e){e.removePrintElementTypes("aProviderModule"),e.addPrintElementTypes("aProviderModule",[new t.hiprint.PrintElementTypeGroup("【公共组件】",[{tid:"aProviderModule.barcode",title:"条形码",data:"18012345678",type:"text",options:{field:"barCode",testData:"Z18012345678",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"barcode"}},{tid:"aProviderModule.qrcode",title:"二维码",data:"Z18012345678",type:"text",options:{field:"qrCode",testData:"Z18012345678",height:64,width:64,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"qrcode"}},{tid:"aProviderModule.table",title:"表格",type:"table",options:{field:"table",tableHeaderRepeat:"first",tableFooterRepeat:"last",fields:[{text:"名称",field:"NAME"},{text:"数量",field:"SL"},{text:"规格",field:"GG"},{text:"条码",field:"TM"},{text:"单价",field:"DJ"},{text:"金额",field:"JE"}]},editable:!0,columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnTitleEditable:!0,columnResizable:!0,columnAlignEditable:!0,isEnableEditField:!0,isEnableContextMenu:!0,isEnableInsertRow:!0,isEnableDeleteRow:!0,isEnableInsertColumn:!0,isEnableDeleteColumn:!0,isEnableMergeCell:!0,columns:[[{title:"名称",align:"center",field:"NAME",width:150},{title:"数量",align:"center",field:"SL",width:80},{title:"规格",align:"center",field:"GG",width:80,checked:!1},{title:"条码",align:"center",field:"TM",width:100,checked:!1},{title:"单价",align:"center",field:"DJ",width:100},{title:"金额",align:"center",field:"JE",width:100,checked:!1}]]},{tid:"aProviderModule.customText",title:"文本",customText:"自定义文本",custom:!0,type:"text",options:{width:200,testData:"长文本分页/不分页测试"}},{tid:"aProviderModule.longText",title:"长文本",type:"longText",options:{field:"test.longText",width:200,testData:"长文本分页/不分页测试"}},{tid:"aProviderModule.logo",title:"Logo",data:G,type:"image",options:{field:"imageUrl"}},{tid:"aProviderModule.hline",title:"横线",type:"hline"},{tid:"aProviderModule.vline",title:"竖线",type:"vline"},{tid:"aProviderModule.rect",title:"矩形",type:"rect"},{tid:"aProviderModule.oval",title:"椭圆",type:"oval"}]),new t.hiprint.PrintElementTypeGroup("【视图字段】",[{tid:"aProviderModule.creater",title:"制表人",data:"Admin.NET",type:"text",options:{field:"creater",testData:"Admin.NET",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"aProviderModule.printDate",title:"打印时间",data:"2023-07-20 09:00",type:"text",options:{field:"printDate",testData:"2023-07-20 09:00",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"aProviderModule.signer",title:"库管签字",data:"Admin.NET",type:"text",options:{field:"signer",testData:"Admin.NET",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"aProviderModule.director",title:"经理签字",data:"Admin.NET",type:"text",options:{field:"director",testData:"Admin.NET",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}}])])}}},{name:"B设计",value:"bProviderModule",type:2,f:{addElementTypes:function(e){e.removePrintElementTypes("bProviderModule"),e.addPrintElementTypes("bProviderModule",[new t.hiprint.PrintElementTypeGroup("【常规】",[{tid:"bProviderModule.header",title:"单据表头",data:"单据表头",type:"text",options:{testData:"单据表头",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.type",title:"单据类型",data:"单据类型",type:"text",options:{testData:"单据类型",height:16,fontSize:15,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.order",title:"订单编号",data:"Z18012345678",type:"text",options:{field:"orderId",testData:"Z18012345678",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.date",title:"业务日期",data:"2023-07-20",type:"text",options:{field:"date",testData:"2023-07-20",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.barcode",title:"条形码",data:"18012345678",type:"text",options:{testData:"Z18012345678",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"barcode"}},{tid:"bProviderModule.qrcode",title:"二维码",data:"Z18012345678",type:"text",options:{testData:"Z18012345678",height:64,width:64,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"qrcode"}},{tid:"bProviderModule.platform",title:"平台名称",data:"平台名称",type:"text",options:{testData:"平台名称",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.image",title:"Logo",data:G,type:"image"}]),new t.hiprint.PrintElementTypeGroup("【客户】",[{tid:"bProviderModule.khname",title:"客户名称",data:"高级客户",type:"text",options:{field:"name",testData:"高级客户",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.tel",title:"客户电话",data:"18012345678",type:"text",options:{field:"tel",testData:"18012345678",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}}]),new t.hiprint.PrintElementTypeGroup("【表格/其他】",[{tid:"bProviderModule.table",title:"订单数据",type:"table",options:{field:"table",fields:[{text:"名称",field:"NAME"},{text:"数量",field:"SL"},{text:"规格",field:"GG"},{text:"条码",field:"TM"},{text:"单价",field:"DJ"},{text:"金额",field:"JE"},{text:"备注",field:"DETAIL"}]},editable:!0,columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnTitleEditable:!0,columnResizable:!0,columnAlignEditable:!0,isEnableEditField:!0,isEnableContextMenu:!0,isEnableInsertRow:!0,isEnableDeleteRow:!0,isEnableInsertColumn:!0,isEnableDeleteColumn:!0,isEnableMergeCell:!0,columns:[[{title:"名称",align:"center",field:"NAME",width:100},{title:"数量",align:"center",field:"SL",width:100},{title:"条码",align:"center",field:"TM",width:100},{title:"规格",align:"center",field:"GG",width:100},{title:"单价",align:"center",field:"DJ",width:100},{title:"金额",align:"center",field:"JE",width:100},{title:"备注",align:"center",field:"DETAIL",width:100}]]},{tid:"bProviderModule.customText",title:"文本",customText:"自定义文本",custom:!0,type:"text"},{tid:"bProviderModule.longText",title:"长文本",type:"longText",options:{field:"test.longText",width:200,testData:"长文本分页/不分页测试"}}]),new t.hiprint.PrintElementTypeGroup("【辅助】",[{tid:"bProviderModule.hline",title:"横线",type:"hline"},{tid:"bProviderModule.vline",title:"竖线",type:"vline"},{tid:"bProviderModule.rect",title:"矩形",type:"rect"},{tid:"bProviderModule.oval",title:"椭圆",type:"oval"}])])}}}],w={barCode:"Admin.NET",qrCode:"二维码",longText:"长文本",imageUrl:G,table:[{NAME:"测试商品01",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品02",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品03",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品04",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品05",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品06",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品07",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品08",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品09",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品10",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品11",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品12",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品13",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品14",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品15",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品16",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品17",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品18",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品19",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品20",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品21",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品22",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品23",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品24",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品25",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品26",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品27",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品28",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品29",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品30",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"}]},J=e=>(b("data-v-1c1c360c"),e=e(),v(),e),P={style:{display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"10px"}},S=J((()=>M("div",{id:"hiprint-printTemplate",class:"hiprint-printTemplate"},null,-1))),C=J((()=>M("div",{id:"PrintElementOptionSetting"},null,-1))),V=n({name:"hiprintDesign"}),L=A(n({...V,setup(n,{expose:b}){let v=o();const A=o(),G=r({mode:0,modeList:[],curPaper:{type:"A4",width:220,height:296.6},paperTypes:{A3:{width:420,height:296.6},A4:{width:210,height:296.6},A5:{width:210,height:147.6},B3:{width:500,height:352.6},B4:{width:250,height:352.6},B5:{width:250,height:175.6}},scaleValue:1,scaleMax:5,scaleMin:.5,paperPopVisible:!1,paperWidth:220,paperHeight:80,templateDialogVisible:!1,templateContent:""}),J=d((()=>{let e="other",t=G.paperTypes;for(const i in t){let l=t[i],{width:a,height:n}=G.curPaper;l.width===a&&l.height===n&&(e=i)}return e})),V=()=>{let e=D[G.mode];t.hiprint.init({providers:[e.f]});const i=document.getElementById("hiprintEpContainer");i&&(i.innerHTML=""),t.hiprint.PrintElementTypeManager.build(".hiprintEpContainer",e.value);const l=document.getElementById("hiprint-printTemplate");l&&(l.innerHTML="");v.value=new t.hiprint.PrintTemplate({template:{},settingContainer:"#PrintElementOptionSetting",paginationContainer:".hiprint-printPagination",fontList:[{title:"微软雅黑",value:"Microsoft YaHei"},{title:"黑体",value:"STHeitiSC-Light"},{title:"Arial",value:"Arial"},{title:"宋体",value:"SimSun"},{title:"华为楷体",value:"STKaiti"},{title:"cursive",value:"cursive"},{title:"Vector",value:"Vector"}]}),v.value.design("#hiprint-printTemplate"),G.scaleValue=v.value.editingPanel.scale||1},L=(e,t)=>{try{Object.keys(G.paperTypes).includes(e)?(G.curPaper={type:e,width:t.width,height:t.height},v.value.setPaper(t.width,t.height)):(G.curPaper={type:"other",width:t.width,height:t.height},v.value.setPaper(t.width,t.height))}catch(i){a.error(`操作失败: ${i}`)}},N=(e,t)=>{let i=!1;i=!(e<=t);let l=G.scaleValue;i?l>G.scaleMax&&(l=5):l<G.scaleMin&&(l=.5),v.value&&(v.value.zoom(l),G.scaleValue=l)},j=()=>{v.value&&v.value.rotatePaper()},_=e=>{v.value.setElsAlign(e)},O=()=>{l.confirm("是否确认清空模板信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{try{v.value.clear()}catch(e){a.error(`操作失败: ${e}`)}})).catch((e=>{}))},k=()=>{let e={width:0,height:0};e.width=G.paperWidth,e.height=G.paperHeight,G.paperPopVisible=!1,L("other",e)},z=()=>{let{width:e}=G.curPaper;A.value.showDialog(v.value,w,e)},W=()=>{},H=()=>{if(v.value){var e=JSON.stringify(v.value.getJson()||{});G.templateContent=JSON.parse(e),G.templateDialogVisible=!0}};return p((()=>{G.modeList=D.map((e=>({type:e.type,name:e.name,value:e.value}))),V()})),b({hiprintTemplate:v}),(t,l)=>{const a=s("el-option"),n=s("el-select"),o=s("el-col"),r=s("el-button"),d=s("el-input"),p=s("el-popover"),b=s("el-button-group"),v=s("el-input-number"),D=s("el-tooltip"),w=s("el-row"),I=s("el-card"),R=s("el-drawer");return m(),u(g,null,[c(w,{gutter:8,style:{"margin-bottom":"5px"}},{default:h((()=>[c(o,{span:4},{default:h((()=>[c(n,{modelValue:G.mode,"onUpdate:modelValue":l[0]||(l[0]=e=>G.mode=e),showSearch:"",onChange:V,defaultValue:0,"option-label-prop":"label",class:"w100"},{default:h((()=>[(m(!0),u(g,null,f(G.modeList,((e,t)=>(m(),x(a,{key:t,label:e.name,value:t},{default:h((()=>[E(T(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(o,{span:20},{default:h((()=>[c(b,{style:{margin:"0 2px"}},{default:h((()=>[(m(!0),u(g,null,f(G.paperTypes,((e,t)=>(m(),x(r,{type:J.value===t?"primary":"",onClick:i=>L(t,e),key:t},{default:h((()=>[E(T(t),1)])),_:2},1032,["type","onClick"])))),128)),c(p,{modelValue:G.paperPopVisible,"onUpdate:modelValue":l[3]||(l[3]=e=>G.paperPopVisible=e),placement:"bottom",width:"300",title:"设置纸张宽高(mm)"},{reference:h((()=>[c(r,{type:"other"==J.value?"primary":"",style:{margin:"0 10px"}},{default:h((()=>[E("自定义宽高")])),_:1},8,["type"])])),default:h((()=>[M("div",P,[c(d,{type:"number",modelValue:G.paperWidth,"onUpdate:modelValue":l[1]||(l[1]=e=>G.paperWidth=e),style:{width:"100px","text-align":"center"},place:"宽（mm）"},null,8,["modelValue"]),E("~ "),c(d,{type:"number",modelValue:G.paperHeight,"onUpdate:modelValue":l[2]||(l[2]=e=>G.paperHeight=e),style:{width:"100px","text-align":"center"},place:"高（mm）"},null,8,["modelValue"])]),M("div",null,[c(r,{type:"primary",style:{width:"100%"},onClick:k},{default:h((()=>[E("确定")])),_:1})])])),_:1},8,["modelValue"])])),_:1}),c(v,{style:{"margin-right":"8px"},modelValue:G.scaleValue,"onUpdate:modelValue":l[4]||(l[4]=e=>G.scaleValue=e),precision:2,step:.1,min:G.scaleMin,max:G.scaleMax,onChange:N},null,8,["modelValue","min","max"]),c(b,null,{default:h((()=>[c(D,{content:"左对齐",placement:"bottom"},{default:h((()=>[c(r,{icon:"ele-Back",onClick:l[5]||(l[5]=e=>_("left"))})])),_:1}),c(D,{content:"居中",placement:"bottom"},{default:h((()=>[c(r,{icon:"ele-FullScreen",onClick:l[6]||(l[6]=e=>_("vertical"))})])),_:1}),c(D,{content:"右对齐",placement:"bottom"},{default:h((()=>[c(r,{icon:"ele-Right",onClick:l[7]||(l[7]=e=>_("right"))})])),_:1}),c(D,{content:"顶对齐",placement:"bottom"},{default:h((()=>[c(r,{icon:"ele-Top",onClick:l[8]||(l[8]=e=>_("top"))})])),_:1}),c(D,{content:"垂直居中",placement:"bottom"},{default:h((()=>[c(r,{icon:"ele-DCaret",onClick:l[9]||(l[9]=e=>_("horizontal"))})])),_:1}),c(D,{content:"底对齐",placement:"bottom"},{default:h((()=>[c(r,{icon:"ele-Bottom",onClick:l[10]||(l[10]=e=>_("bottom"))})])),_:1}),c(D,{content:"横向分散",placement:"bottom"},{default:h((()=>[c(r,{icon:"ele-Sort",onClick:l[11]||(l[11]=e=>_("distributeHor"))})])),_:1}),c(D,{content:"纵向分散",placement:"bottom"},{default:h((()=>[c(r,{icon:"ele-Switch",onClick:l[12]||(l[12]=e=>_("distributeVer"))})])),_:1})])),_:1}),c(b,{style:{"margin-left":"8px"}},{default:h((()=>[c(r,{type:"primary",icon:"ele-RefreshRight",onClick:j},{default:h((()=>[E(" 旋转 ")])),_:1}),c(r,{type:"primary",icon:"ele-View",onClick:z},{default:h((()=>[E(" 预览 ")])),_:1}),c(r,{type:"primary",icon:"ele-Printer",onClick:W},{default:h((()=>[E(" 直接打印 ")])),_:1}),c(r,{type:"primary",icon:"ele-CircleCheck",onClick:H},{default:h((()=>[E(" 模板JSON ")])),_:1}),c(r,{type:"danger",icon:"ele-Delete",onClick:O},{default:h((()=>[E(" 清空模板 ")])),_:1})])),_:1})])),_:1})])),_:1}),c(w,{gutter:8},{default:h((()=>[c(o,{span:4},{default:h((()=>[c(I,{style:{height:"100%"},shadow:"never"},{default:h((()=>[c(w,null,{default:h((()=>[c(o,{span:24,id:"hiprintEpContainer",class:"rect-printElement-types hiprintEpContainer"})])),_:1})])),_:1})])),_:1}),c(o,{span:14},{default:h((()=>[c(I,{shadow:"never",class:"card-design"},{default:h((()=>[S])),_:1})])),_:1}),c(o,{span:6,class:"params_setting_container"},{default:h((()=>[c(I,{shadow:"never"},{default:h((()=>[c(w,{class:"hinnn-layout-sider"},{default:h((()=>[C])),_:1})])),_:1})])),_:1})])),_:1}),c(R,{title:"打印模板",modelValue:G.templateDialogVisible,"onUpdate:modelValue":l[13]||(l[13]=e=>G.templateDialogVisible=e)},{default:h((()=>[c(y(e),{data:G.templateContent,showLength:"",showIcon:"",showLineNumber:"",showSelectController:""},null,8,["data"])])),_:1},8,["modelValue"]),c(i,{ref_key:"preViewRef",ref:A},null,512)],64)}}}),[["__scopeId","data-v-1c1c360c"]]);export{L as default};

import{d as e,r as t,k as a,w as s,ap as i,o as r,c as o,a as m,F as p,a8 as n,Q as l,V as u,P as j,u as d,W as f,a1 as g,n as c}from"./@vue-CX_mlhJe.js";import{u as v}from"./vue-router-DCQgfElv.js";import{d as h}from"./index-DWGcUZYU.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";const y={class:"layout-padding layout-padding-unset layout-iframe"},k={class:"layout-padding-auto layout-padding-view"},b=["src","data-url"],w=e({name:"layoutIframeView"}),I=e({...w,props:{refreshKey:{type:String,default:()=>""},name:{type:String,default:()=>"slide-right"},list:{type:Array,default:()=>[]}},setup(e){const w=e,I=t(),O=v(),x=a((()=>w.list.filter((e=>{var t;return null==(t=e.meta)?void 0:t.isIframeOpen})))),z=a((()=>O.path)),P=(e,t)=>{c((()=>{if(!I.value)return!1;I.value.forEach((a=>{a.dataset.url===e&&(a.onload=()=>{var e;(null==(e=t.meta)?void 0:e.isIframeOpen)&&t.meta.loading&&(t.meta.loading=!1)})}))}))};return s((()=>O.fullPath),(e=>{const t=w.list.find((t=>t.path===e));if(!t)return!1;t.meta.isIframeOpen||(t.meta.isIframeOpen=!0),P(e,t)}),{immediate:!0}),s((()=>w.refreshKey),(()=>{const e=w.list.find((e=>e.path===O.path));if(!e)return!1;e.meta.isIframeOpen&&(e.meta.isIframeOpen=!1),setTimeout((()=>{e.meta.isIframeOpen=!0,e.meta.loading=!0,P(O.fullPath,e)}))}),{deep:!0}),(t,a)=>{const s=i("loading");return r(),o("div",y,[m("div",k,[(r(!0),o(p,null,n(x.value,(t=>l((r(),o("div",{class:"w100",key:t.path,"element-loading-background":"white"},[u(g,{name:e.name},{default:j((()=>[l((r(),o("iframe",{src:`${t.meta.isLink}${t.meta.isLink.indexOf("?")>0?"&":"?"}token=${d(h)()}`,key:t.path,frameborder:"0",height:"100%",width:"100%",style:{position:"absolute"},"data-url":t.path,ref_for:!0,ref_key:"iframeRef",ref:I},null,8,b)),[[f,z.value===t.path]])])),_:2},1032,["name"])])),[[s,t.meta.loading]]))),128))])])}}});export{I as default};

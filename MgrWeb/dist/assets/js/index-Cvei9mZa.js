import e from"./editPrint-BK4HKloh.js";import{_ as t}from"./modifyRecord.vue_vue_type_script_setup_true_lang-BJJtdc8n.js";import{g as a}from"./index-DWGcUZYU.js";import{S as r}from"./sys-print-api-DvOEPwCj.js";import{c as i,E as o}from"./element-plus-B9gGnqkL.js";import{d as s,r as l,_ as n,j as p,ah as m,ap as u,o as d,c,V as j,P as g,Q as f,O as y,T as v}from"./@vue-CX_mlhJe.js";import"./index-Cm51DKgs.js";import"./vue-json-pretty-C2Gqq-RF.js";import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./@babel-Q_QrznUx.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./preview-CrGrIBDL.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@element-plus-BOmeTCVz.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */const P={class:"sys-print-container"},b=s({name:"sysPrint"}),h=s({...b,setup(s){const b=l(),h=n({loading:!1,printData:[],queryParams:{name:void 0},tableParams:{page:1,pageSize:10,total:0},editPrintTitle:""});p((async()=>{_()}));const _=async()=>{var e,t;h.loading=!0;let i=Object.assign(h.queryParams,h.tableParams);var o=await a(r).apiSysPrintPagePost(i);h.printData=(null==(e=o.data.result)?void 0:e.items)??[],h.tableParams.total=null==(t=o.data.result)?void 0:t.total,h.loading=!1},w=()=>{h.queryParams.name=void 0,_()},k=()=>{var e;h.editPrintTitle="添加打印模板",null==(e=b.value)||e.openDialog({})},z=e=>{h.tableParams.pageSize=e,_()},x=e=>{h.tableParams.page=e,_()};return(s,l)=>{const n=m("el-input"),p=m("el-form-item"),C=m("el-button"),S=m("el-button-group"),q=m("el-form"),D=m("el-card"),T=m("el-table-column"),V=m("el-tag"),U=m("el-table"),B=m("el-pagination"),E=u("auth"),Q=u("loading");return d(),c("div",P,[j(D,{shadow:"hover","body-style":{paddingBottom:"0"}},{default:g((()=>[j(q,{model:h.queryParams,ref:"queryForm",inline:!0},{default:g((()=>[j(p,{label:"模板名称"},{default:g((()=>[j(n,{modelValue:h.queryParams.name,"onUpdate:modelValue":l[0]||(l[0]=e=>h.queryParams.name=e),placeholder:"模板名称",clearable:""},null,8,["modelValue"])])),_:1}),j(p,null,{default:g((()=>[j(S,null,{default:g((()=>[f((d(),y(C,{type:"primary",icon:"ele-Search",onClick:_},{default:g((()=>[v(" 查询 ")])),_:1})),[[E,"sysPrint:page"]]),j(C,{icon:"ele-Refresh",onClick:w},{default:g((()=>[v(" 重置 ")])),_:1})])),_:1})])),_:1}),j(p,null,{default:g((()=>[f((d(),y(C,{type:"primary",icon:"ele-Plus",onClick:k},{default:g((()=>[v(" 新增 ")])),_:1})),[[E,"sysPrint:add"]])])),_:1})])),_:1},8,["model"])])),_:1}),j(D,{class:"full-table",shadow:"hover",style:{"margin-top":"5px"}},{default:g((()=>[f((d(),y(U,{data:h.printData,style:{width:"100%"},border:""},{default:g((()=>[j(T,{type:"index",label:"序号",width:"55",align:"center",fixed:""}),j(T,{prop:"name",label:"名称","header-align":"center","show-overflow-tooltip":""}),j(T,{prop:"orderNo",label:"排序",align:"center","show-overflow-tooltip":""}),j(T,{label:"状态",align:"center","show-overflow-tooltip":""},{default:g((e=>[1===e.row.status?(d(),y(V,{key:0,type:"success"},{default:g((()=>[v("启用")])),_:1})):(d(),y(V,{key:1,type:"danger"},{default:g((()=>[v("禁用")])),_:1}))])),_:1}),j(T,{label:"修改记录",width:"100",align:"center","show-overflow-tooltip":""},{default:g((e=>[j(t,{data:e.row},null,8,["data"])])),_:1}),j(T,{label:"操作",width:"140",fixed:"right",align:"center","show-overflow-tooltip":""},{default:g((e=>[f((d(),y(C,{icon:"ele-Edit",size:"small",text:"",type:"primary",onClick:t=>{return a=e.row,h.editPrintTitle="编辑打印模板",void(null==(r=b.value)||r.openDialog(a));var a,r}},{default:g((()=>[v(" 编辑 ")])),_:2},1032,["onClick"])),[[E,"sysPrint:update"]]),f((d(),y(C,{icon:"ele-Delete",size:"small",text:"",type:"danger",onClick:t=>{return s=e.row,void i.confirm(`确定删除打印模板：【${s.name}】?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await a(r).apiSysPrintDeletePost({id:s.id}),_(),o.success("删除成功")})).catch((()=>{}));var s}},{default:g((()=>[v(" 删除 ")])),_:2},1032,["onClick"])),[[E,"sysPrint:delete"]])])),_:1})])),_:1},8,["data"])),[[Q,h.loading]]),j(B,{currentPage:h.tableParams.page,"onUpdate:currentPage":l[1]||(l[1]=e=>h.tableParams.page=e),"page-size":h.tableParams.pageSize,"onUpdate:pageSize":l[2]||(l[2]=e=>h.tableParams.pageSize=e),total:h.tableParams.total,"page-sizes":[10,20,50,100],size:"small",background:"",onSizeChange:z,onCurrentChange:x,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])])),_:1}),j(e,{ref_key:"editPrintRef",ref:b,title:h.editPrintTitle,onHandleQuery:_},null,8,["title"])])}}});export{h as default};

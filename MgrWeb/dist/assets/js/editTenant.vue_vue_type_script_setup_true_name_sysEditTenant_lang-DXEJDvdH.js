import{g as e}from"./index-DWGcUZYU.js";import{S as l}from"./sys-tenant-api-rfUaKb-E.js";import{d as a,r as o,_ as r,ah as u,o as d,c as t,V as s,P as m,a as n,U as i,T as b}from"./@vue-CX_mlhJe.js";const c={class:"sys-tenant-container"},p={style:{color:"#fff"}},g={class:"dialog-footer"},f=a({name:"sysEditTenant"}),v=a({...f,props:{title:String},emits:["handleQuery"],setup(a,{expose:f,emit:v}){const F=a,V=v,x=o(),_=r({isShowDialog:!1,ruleForm:{}}),y=()=>{_.isShowDialog=!1},h=()=>{x.value.validate((async a=>{a&&(null!=_.ruleForm.id&&_.ruleForm.id>0?await e(l).apiSysTenantUpdatePost(_.ruleForm):await e(l).apiSysTenantAddPost(_.ruleForm),V("handleQuery"),_.isShowDialog=!1)}))};return f({openDialog:e=>{var l;_.ruleForm=JSON.parse(JSON.stringify(e)),_.isShowDialog=!0,null==(l=x.value)||l.resetFields()}}),(e,l)=>{const a=u("ele-Edit"),o=u("el-icon"),r=u("el-radio"),f=u("el-radio-group"),v=u("el-form-item"),V=u("el-col"),S=u("el-input"),T=u("el-input-number"),D=u("el-option"),w=u("el-select"),U=u("el-row"),C=u("el-form"),O=u("el-button"),q=u("el-dialog");return d(),t("div",c,[s(q,{modelValue:_.isShowDialog,"onUpdate:modelValue":l[10]||(l[10]=e=>_.isShowDialog=e),draggable:"","close-on-click-modal":!1,width:"700px"},{header:m((()=>[n("div",p,[s(o,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:m((()=>[s(a)])),_:1}),n("span",null,i(F.title),1)])])),footer:m((()=>[n("span",g,[s(O,{onClick:y},{default:m((()=>[b("取 消")])),_:1}),s(O,{type:"primary",onClick:h},{default:m((()=>[b("确 定")])),_:1})])])),default:m((()=>[s(C,{model:_.ruleForm,ref_key:"ruleFormRef",ref:x,"label-width":"auto"},{default:m((()=>[s(U,{gutter:35},{default:m((()=>[s(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:m((()=>[s(v,{label:"租户类型",rules:[{required:!0,message:"租户类型不能为空",trigger:"blur"}]},{default:m((()=>[s(f,{modelValue:_.ruleForm.tenantType,"onUpdate:modelValue":l[0]||(l[0]=e=>_.ruleForm.tenantType=e),disabled:null!=_.ruleForm.id},{default:m((()=>[s(r,{value:0},{default:m((()=>[b("ID隔离")])),_:1}),s(r,{value:1},{default:m((()=>[b("库隔离")])),_:1})])),_:1},8,["modelValue","disabled"])])),_:1})])),_:1}),s(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:m((()=>[s(v,{label:"租户名称",prop:"name",rules:[{required:!0,message:"租户名称不能为空",trigger:"blur"}]},{default:m((()=>[s(S,{modelValue:_.ruleForm.name,"onUpdate:modelValue":l[1]||(l[1]=e=>_.ruleForm.name=e),placeholder:"租户名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),s(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:m((()=>[s(v,{label:"租管账号",prop:"adminAccount",rules:[{required:!0,message:"租管账号不能为空",trigger:"blur"}]},{default:m((()=>[s(S,{modelValue:_.ruleForm.adminAccount,"onUpdate:modelValue":l[2]||(l[2]=e=>_.ruleForm.adminAccount=e),placeholder:"租管账号",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),s(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:m((()=>[s(v,{label:"电话",prop:"phone",rules:[{required:!0,message:"电话号码不能为空",trigger:"blur"}]},{default:m((()=>[s(S,{modelValue:_.ruleForm.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>_.ruleForm.phone=e),placeholder:"电话",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),s(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:m((()=>[s(v,{label:"邮箱"},{default:m((()=>[s(S,{modelValue:_.ruleForm.email,"onUpdate:modelValue":l[4]||(l[4]=e=>_.ruleForm.email=e),placeholder:"邮箱",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),s(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:m((()=>[s(v,{label:"排序"},{default:m((()=>[s(T,{modelValue:_.ruleForm.orderNo,"onUpdate:modelValue":l[5]||(l[5]=e=>_.ruleForm.orderNo=e),placeholder:"排序",class:"w100"},null,8,["modelValue"])])),_:1})])),_:1}),s(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:m((()=>[s(v,{label:"数据库类型"},{default:m((()=>[s(w,{modelValue:_.ruleForm.dbType,"onUpdate:modelValue":l[6]||(l[6]=e=>_.ruleForm.dbType=e),placeholder:"数据库类型",clearable:"",class:"w100",disabled:0==_.ruleForm.tenantType&&null!=_.ruleForm.tenantType},{default:m((()=>[s(D,{label:"MySql",value:0}),s(D,{label:"SqlServer",value:1}),s(D,{label:"Sqlite",value:2}),s(D,{label:"Oracle",value:3}),s(D,{label:"PostgreSQL",value:4}),s(D,{label:"Dm",value:5}),s(D,{label:"Kdbndp",value:6}),s(D,{label:"Oscar",value:7}),s(D,{label:"MySqlConnector",value:8}),s(D,{label:"Access",value:9}),s(D,{label:"OpenGauss",value:10}),s(D,{label:"QuestDB",value:11}),s(D,{label:"HG",value:12}),s(D,{label:"ClickHouse",value:13}),s(D,{label:"GBase",value:14}),s(D,{label:"Odbc",value:"15"}),s(D,{label:"OceanBaseForOracle",value:"16"}),s(D,{label:"TDengine",value:"17"}),s(D,{label:"GaussDB",value:"18"}),s(D,{label:"OceanBase",value:"19"}),s(D,{label:"Tidb",value:"20"}),s(D,{label:"Vastbase",value:"21"}),s(D,{label:"PolarDB",value:"22"}),s(D,{label:"Doris",value:"23"}),s(D,{label:"Custom",value:900})])),_:1},8,["modelValue","disabled"])])),_:1})])),_:1}),s(V,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:m((()=>[s(v,{label:"连接字符串"},{default:m((()=>[s(S,{modelValue:_.ruleForm.connection,"onUpdate:modelValue":l[7]||(l[7]=e=>_.ruleForm.connection=e),placeholder:"连接字符串",clearable:"",type:"textarea",disabled:0==_.ruleForm.tenantType&&null!=_.ruleForm.tenantType},null,8,["modelValue","disabled"])])),_:1})])),_:1}),s(V,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:m((()=>[s(v,{label:"从库连接串"},{default:m((()=>[s(S,{modelValue:_.ruleForm.slaveConnections,"onUpdate:modelValue":l[8]||(l[8]=e=>_.ruleForm.slaveConnections=e),placeholder:"格式：[{'HitRate':10, 'ConnectionString':'xxx'},{'HitRate':10, 'ConnectionString':'xxx'}]",clearable:"",type:"textarea",disabled:0==_.ruleForm.tenantType&&null!=_.ruleForm.tenantType},null,8,["modelValue","disabled"])])),_:1})])),_:1}),s(V,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:m((()=>[s(v,{label:"备注"},{default:m((()=>[s(S,{modelValue:_.ruleForm.remark,"onUpdate:modelValue":l[9]||(l[9]=e=>_.ruleForm.remark=e),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}});export{v as _};

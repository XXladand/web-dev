import{a as e}from"./dict-utils-LXnBJ9wT.js";import l from"./preview-CrGrIBDL.js";import{e as a,p as t}from"./editDialog-Be2m1Zui.js";import{d as o,r,ah as s,ap as i,o as p,c as u,V as d,P as m,O as n,S as v,Q as c,T as f,u as j,U as g}from"./@vue-CX_mlhJe.js";import{_ as w}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-DWGcUZYU.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./request-Cv12-fnH.js";const b={class:"netTask-container"},h=o({name:"netTask"}),y=w(o({...h,setup(o){const w=r(!1),h=r(),y=r(),_=r(!1),k=r([]),x=r({}),z=r({page:1,pageSize:10,total:0}),V=r(""),S=r(""),T=()=>{w.value=!w.value},C=async()=>{var e,l;_.value=!0;var a=await t(Object.assign(x.value,z.value));k.value=(null==(e=a.data.result)?void 0:e.items)??[],z.value.total=null==(l=a.data.result)?void 0:l.total,_.value=!1},U=async e=>{x.value.field=e.prop,x.value.order=e.order,await C()},q=e=>{z.value.pageSize=e,C()},I=e=>{z.value.page=e,C()};return C(),(t,o)=>{const r=s("el-input"),R=s("el-form-item"),D=s("el-col"),P=s("el-input-number"),K=s("el-button"),O=s("el-button-group"),F=s("el-row"),Q=s("el-form"),Z=s("el-card"),B=s("el-table-column"),E=s("el-tag"),G=s("el-table"),L=s("el-pagination"),M=i("auth"),N=i("loading");return p(),u("div",b,[d(Z,{shadow:"hover","body-style":{paddingBottom:"0"}},{default:m((()=>[d(Q,{model:x.value,ref:"queryForm",labelWidth:"90"},{default:m((()=>[d(F,null,{default:m((()=>[d(D,{xs:24,sm:12,md:12,lg:8,xl:4,class:"mb10"},{default:m((()=>[d(R,{label:"关键字"},{default:m((()=>[d(r,{modelValue:x.value.searchKey,"onUpdate:modelValue":o[0]||(o[0]=e=>x.value.searchKey=e),clearable:"",placeholder:"请输入模糊查询关键字"},null,8,["modelValue"])])),_:1})])),_:1}),w.value?(p(),n(D,{key:0,xs:24,sm:12,md:12,lg:8,xl:4,class:"mb10"},{default:m((()=>[d(R,{label:"名称"},{default:m((()=>[d(r,{modelValue:x.value.name,"onUpdate:modelValue":o[1]||(o[1]=e=>x.value.name=e),clearable:"",placeholder:"请输入名称"},null,8,["modelValue"])])),_:1})])),_:1})):v("",!0),w.value?(p(),n(D,{key:1,xs:24,sm:12,md:12,lg:8,xl:4,class:"mb10"},{default:m((()=>[d(R,{label:"网站链接"},{default:m((()=>[d(r,{modelValue:x.value.data,"onUpdate:modelValue":o[2]||(o[2]=e=>x.value.data=e),clearable:"",placeholder:"请输入网站链接"},null,8,["modelValue"])])),_:1})])),_:1})):v("",!0),w.value?(p(),n(D,{key:2,xs:24,sm:12,md:12,lg:8,xl:4,class:"mb10"},{default:m((()=>[d(R,{label:"爬取深度"},{default:m((()=>[d(P,{modelValue:x.value.deep,"onUpdate:modelValue":o[3]||(o[3]=e=>x.value.deep=e),clearable:"",placeholder:"请输入爬取深度"},null,8,["modelValue"])])),_:1})])),_:1})):v("",!0),d(D,{xs:24,sm:12,md:12,lg:8,xl:4,class:"mb10"},{default:m((()=>[d(R,null,{default:m((()=>[d(O,{style:{display:"flex","align-items":"center"}},{default:m((()=>[c((p(),n(K,{type:"primary",icon:"ele-Search",onClick:C},{default:m((()=>[f(" 查询 ")])),_:1})),[[M,"netTask:page"]]),d(K,{icon:"ele-Refresh",onClick:o[4]||(o[4]=()=>x.value={})},{default:m((()=>[f(" 重置 ")])),_:1}),w.value?v("",!0):(p(),n(K,{key:0,icon:"ele-ZoomIn",onClick:T,style:{"margin-left":"5px"}},{default:m((()=>[f(" 高级查询 ")])),_:1})),w.value?(p(),n(K,{key:1,icon:"ele-ZoomOut",onClick:T,style:{"margin-left":"5px"}},{default:m((()=>[f(" 隐藏 ")])),_:1})):v("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),d(Z,{class:"full-table",shadow:"hover",style:{"margin-top":"5px"}},{default:m((()=>[c((p(),n(G,{data:k.value,style:{width:"100%"},"tooltip-effect":"light","row-key":"id",onSortChange:U,border:""},{default:m((()=>[d(B,{type:"index",label:"序号",width:"55",align:"center"}),d(B,{prop:"id",label:"任务Id",width:"120","show-overflow-tooltip":""}),d(B,{prop:"name",label:"名称","show-overflow-tooltip":""}),d(B,{prop:"createSource",width:"110",label:"任务来源","show-overflow-tooltip":""},{default:m((l=>{var a;return[d(E,{type:null==(a=j(e)("rwly",l.row.createSource))?void 0:a.tagType},{default:m((()=>{var a;return[f(g(null==(a=j(e)("rwly",l.row.createSource))?void 0:a.value),1)]})),_:2},1032,["type"])]})),_:1}),d(B,{prop:"sourceId",width:"120",label:"源Id","show-overflow-tooltip":""}),d(B,{prop:"state",width:"70",label:"状态","show-overflow-tooltip":""},{default:m((l=>{var a;return[d(E,{type:null==(a=j(e)("rwzt",l.row.state))?void 0:a.tagType},{default:m((()=>{var a;return[f(g(null==(a=j(e)("rwzt",l.row.state))?void 0:a.value),1)]})),_:2},1032,["type"])]})),_:1}),d(B,{prop:"data",label:"任务参数","show-overflow-tooltip":""}),d(B,{prop:"deep",width:"70",label:"爬取深度","show-overflow-tooltip":""},{default:m((l=>{var a;return[d(E,{type:null==(a=j(e)("pqsd",l.row.deep))?void 0:a.tagType},{default:m((()=>{var a;return[f(g(null==(a=j(e)("pqsd",l.row.deep))?void 0:a.value),1)]})),_:2},1032,["type"])]})),_:1}),d(B,{prop:"isUnlocker",width:"70",label:"绕过反爬","show-overflow-tooltip":""},{default:m((e=>[d(E,null,{default:m((()=>[f(g(e.row.isUnlocker?"是":"否"),1)])),_:2},1024)])),_:1}),d(B,{prop:"dtlCount",label:"明细数量","show-overflow-tooltip":""}),d(B,{prop:"createTime",width:"130",label:"创建时间","show-overflow-tooltip":""})])),_:1},8,["data"])),[[N,_.value]]),d(L,{currentPage:z.value.page,"onUpdate:currentPage":o[5]||(o[5]=e=>z.value.page=e),"page-size":z.value.pageSize,"onUpdate:pageSize":o[6]||(o[6]=e=>z.value.pageSize=e),total:z.value.total,"page-sizes":[10,20,50,100,200,500],size:"small",background:"",onSizeChange:q,onCurrentChange:I,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"]),d(l,{ref_key:"printDialogRef",ref:h,title:V.value,onReloadTable:C},null,8,["title"]),d(a,{ref_key:"editDialogRef",ref:y,title:S.value,onReloadTable:C},null,8,["title"])])),_:1})])}}}),[["__scopeId","data-v-52cd2b16"]]);export{y as default};

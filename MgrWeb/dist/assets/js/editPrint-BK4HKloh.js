import e from"./index-Cm51DKgs.js";import{g as l}from"./index-DWGcUZYU.js";import{S as r}from"./sys-print-api-DvOEPwCj.js";import{d as a,r as o,_ as t,j as s,ah as i,o as m,c as u,a as p,V as d,P as n,U as c,T as f,n as g}from"./@vue-CX_mlhJe.js";import{_ as j}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./vue-json-pretty-C2Gqq-RF.js";import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./@babel-Q_QrznUx.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./preview-CrGrIBDL.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@element-plus-BOmeTCVz.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */const v={class:"sys-print-container"},y={class:"printDialog"},_={style:{color:"#fff"}},h={style:{margin:"-16px 0px 0px 0px"}},F={class:"dialog-footer",style:{"margin-top":"10px"}},b={style:{color:"#fff"}},x={class:"dialog-footer"},V=a({name:"sysEditPrint"}),w=j(a({...V,props:{title:String},emits:["handleQuery"],setup(a,{expose:j,emit:V}){const w=o(),k=a,S=V,D=o(),U=t({isShowDialog:!1,ruleForm:{},showDialog2:!1});s((async()=>{}));const N=()=>{var e,l;null==(e=w.value)||e.hiprintTemplate.clear(),"{}"!==JSON.stringify(U.ruleForm)&&(null==(l=w.value)||l.hiprintTemplate.update(JSON.parse(U.ruleForm.template)))},P=()=>{U.isShowDialog=!1},T=async()=>{U.showDialog2=!0,null==U.ruleForm.orderNo&&(U.ruleForm.orderNo=100),null==U.ruleForm.status&&(U.ruleForm.status=1),null==U.ruleForm.printType&&(U.ruleForm.printType=1)},z=()=>{U.showDialog2=!1},J=async()=>{var e;U.ruleForm.template=JSON.stringify(null==(e=w.value)?void 0:e.hiprintTemplate.getJson()),null!=U.ruleForm.id&&U.ruleForm.id>0?await l(r).apiSysPrintUpdatePost(U.ruleForm):await l(r).apiSysPrintAddPost(U.ruleForm),P(),z(),S("handleQuery")};return j({openDialog:e=>{var l;U.ruleForm=JSON.parse(JSON.stringify(e)),U.isShowDialog=!0,null==(l=D.value)||l.resetFields(),g((()=>{N()}))}}),(l,r)=>{const a=i("ele-Edit"),o=i("el-icon"),t=i("el-button"),s=i("el-dialog"),g=i("el-input"),j=i("el-form-item"),V=i("el-col"),S=i("el-input-number"),N=i("el-radio"),C=i("el-radio-group"),O=i("el-row"),q=i("el-form");return m(),u("div",v,[p("div",y,[d(s,{modelValue:U.isShowDialog,"onUpdate:modelValue":r[0]||(r[0]=e=>U.isShowDialog=e),draggable:"","close-on-click-modal":!1,fullscreen:""},{header:n((()=>[p("div",_,[d(o,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:n((()=>[d(a)])),_:1}),p("span",null,c(k.title),1)])])),footer:n((()=>[p("span",F,[d(t,{onClick:P},{default:n((()=>[f("取 消")])),_:1}),d(t,{type:"primary",onClick:T},{default:n((()=>[f("保存模板")])),_:1})])])),default:n((()=>[p("div",h,[d(e,{ref_key:"hiprintDesignRef",ref:w},null,512)])])),_:1},8,["modelValue"])]),d(s,{modelValue:U.showDialog2,"onUpdate:modelValue":r[8]||(r[8]=e=>U.showDialog2=e),draggable:"","close-on-click-modal":!1,width:"600px"},{header:n((()=>[p("div",b,[d(o,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:n((()=>[d(a)])),_:1}),p("span",null,c(k.title),1)])])),footer:n((()=>[p("span",x,[d(t,{onClick:z},{default:n((()=>[f("取 消")])),_:1}),d(t,{type:"primary",onClick:J},{default:n((()=>[f("确 定")])),_:1})])])),default:n((()=>[d(q,{model:U.ruleForm,ref_key:"ruleFormRef",ref:D,"label-width":"auto"},{default:n((()=>[d(O,{gutter:35},{default:n((()=>[d(V,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:n((()=>[d(j,{label:"模板名称",prop:"name",rules:[{required:!0,message:"模板名称不能为空",trigger:"blur"}]},{default:n((()=>[d(g,{modelValue:U.ruleForm.name,"onUpdate:modelValue":r[1]||(r[1]=e=>U.ruleForm.name=e),placeholder:"模板名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[d(j,{label:"排序"},{default:n((()=>[d(S,{modelValue:U.ruleForm.orderNo,"onUpdate:modelValue":r[2]||(r[2]=e=>U.ruleForm.orderNo=e),placeholder:"排序",class:"w100"},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[d(j,{label:"状态"},{default:n((()=>[d(C,{modelValue:U.ruleForm.status,"onUpdate:modelValue":r[3]||(r[3]=e=>U.ruleForm.status=e)},{default:n((()=>[d(N,{value:1},{default:n((()=>[f("启用")])),_:1}),d(N,{value:2},{default:n((()=>[f("禁用")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:n((()=>[d(j,{label:"打印类型"},{default:n((()=>[d(C,{modelValue:U.ruleForm.printType,"onUpdate:modelValue":r[4]||(r[4]=e=>U.ruleForm.printType=e)},{default:n((()=>[d(N,{value:1},{default:n((()=>[f("浏览器打印")])),_:1}),d(N,{value:2},{default:n((()=>[f("客户端打印")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:n((()=>[d(j,{label:"客户端服务地址"},{default:n((()=>[d(g,{modelValue:U.ruleForm.clientServiceAddress,"onUpdate:modelValue":r[5]||(r[5]=e=>U.ruleForm.clientServiceAddress=e),placeholder:"客户端服务地址",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:n((()=>[d(j,{label:"打印参数"},{default:n((()=>[d(g,{modelValue:U.ruleForm.printParam,"onUpdate:modelValue":r[6]||(r[6]=e=>U.ruleForm.printParam=e),placeholder:"请输入打印参数",clearable:"",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:n((()=>[d(j,{label:"备注"},{default:n((()=>[d(g,{modelValue:U.ruleForm.remark,"onUpdate:modelValue":r[7]||(r[7]=e=>U.ruleForm.remark=e),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-4f7dd118"]]);export{w as default};

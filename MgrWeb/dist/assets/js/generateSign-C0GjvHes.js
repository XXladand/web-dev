import{g as e}from"./index-DWGcUZYU.js";import{S as l}from"./sys-open-access-api-i-cLQgUm.js";import{d as o,r as a,_ as r,w as s,ah as t,o as m,c as u,V as i,P as p,a as d,u as n,T as c,bm as j,bk as _}from"./@vue-CX_mlhJe.js";import{_ as v}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";var f=(e=>(e[e.NUMBER_0=0]="NUMBER_0",e[e.NUMBER_1=1]="NUMBER_1",e[e.NUMBER_2=2]="NUMBER_2",e[e.NUMBER_3=3]="NUMBER_3",e[e.NUMBER_4=4]="NUMBER_4",e[e.NUMBER_5=5]="NUMBER_5",e[e.NUMBER_6=6]="NUMBER_6",e[e.NUMBER_7=7]="NUMBER_7",e[e.NUMBER_8=8]="NUMBER_8",e))(f||{});const g={class:"sys-open-access-container"},b={style:{color:"#fff"}},U=(e=>(j("data-v-730f6ce8"),e=e(),_(),e))((()=>d("span",null," 生成签名 ",-1))),h=o({name:"sysOpenAccessEdit"}),M=v(o({...h,props:{title:String},emits:["handleQuery"],setup(o,{expose:j,emit:_}){const v=a(),h=r({isShowDialog:!1,ruleForm:{},sign:""});s([()=>h.ruleForm.method,()=>h.ruleForm.url,()=>h.ruleForm.timestamp,()=>h.ruleForm.nonce],(()=>{null!=h.ruleForm.method&&null!=h.ruleForm.method&&h.ruleForm.url&&h.ruleForm.timestamp&&h.ruleForm.nonce&&0!=/^\d+$/.test(h.ruleForm.timestamp)?E():h.sign=""}));const M=()=>{const e=Math.floor(Date.now()/1e3);h.ruleForm.timestamp=e},F=()=>{for(var e="",l=0;l<6;l++)e+=Math.floor(10*Math.random());h.ruleForm.nonce=e},E=async()=>{var o=await e(l).apiSysOpenAccessGenerateSignaturePost(h.ruleForm);h.sign=o.data.result};return j({openDialog:e=>{var l;h.ruleForm={accessKey:null==e?void 0:e.accessKey,accessSecret:null==e?void 0:e.accessSecret,method:f.NUMBER_0,url:""},h.isShowDialog=!0,null==(l=v.value)||l.resetFields()}}),(e,l)=>{const o=t("ele-Key"),a=t("el-icon"),r=t("el-input"),s=t("el-form-item"),j=t("el-col"),_=t("el-option"),E=t("el-select"),N=t("el-button"),R=t("el-row"),B=t("el-form"),V=t("el-dialog");return m(),u("div",g,[i(V,{modelValue:h.isShowDialog,"onUpdate:modelValue":l[7]||(l[7]=e=>h.isShowDialog=e),draggable:"","close-on-click-modal":!1,width:"600px"},{header:p((()=>[d("div",b,[i(a,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:p((()=>[i(o)])),_:1}),U])])),default:p((()=>[i(B,{model:h.ruleForm,ref_key:"ruleFormRef",ref:v,"label-width":"auto"},{default:p((()=>[i(R,{gutter:35},{default:p((()=>[i(j,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[i(s,{label:"身份标识",prop:"accessKey"},{default:p((()=>[i(r,{modelValue:h.ruleForm.accessKey,"onUpdate:modelValue":l[0]||(l[0]=e=>h.ruleForm.accessKey=e),placeholder:"身份标识",readonly:""},null,8,["modelValue"])])),_:1})])),_:1}),i(j,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[i(s,{label:"密钥",prop:"accessSecret"},{default:p((()=>[i(r,{modelValue:h.ruleForm.accessSecret,"onUpdate:modelValue":l[1]||(l[1]=e=>h.ruleForm.accessSecret=e),placeholder:"密钥",readonly:""},null,8,["modelValue"])])),_:1})])),_:1}),i(j,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[i(s,{label:"接口请求地址",prop:"url"},{default:p((()=>[i(r,{modelValue:h.ruleForm.url,"onUpdate:modelValue":l[3]||(l[3]=e=>h.ruleForm.url=e),placeholder:"接口请求地址",class:"input-with-select",clearable:""},{prepend:p((()=>[i(E,{modelValue:h.ruleForm.method,"onUpdate:modelValue":l[2]||(l[2]=e=>h.ruleForm.method=e),placeholder:"请求方法",style:{width:"100px"}},{default:p((()=>[i(_,{label:"Get",value:n(f).NUMBER_0},null,8,["value"]),i(_,{label:"Post",value:n(f).NUMBER_1},null,8,["value"]),i(_,{label:"Put",value:n(f).NUMBER_2},null,8,["value"]),i(_,{label:"Delete",value:n(f).NUMBER_3},null,8,["value"]),i(_,{label:"Patch",value:n(f).NUMBER_4},null,8,["value"]),i(_,{label:"Head",value:n(f).NUMBER_5},null,8,["value"]),i(_,{label:"Options",value:n(f).NUMBER_6},null,8,["value"]),i(_,{label:"Trace",value:n(f).NUMBER_7},null,8,["value"]),i(_,{label:"Connect",value:n(f).NUMBER_8},null,8,["value"])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(j,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[i(s,{label:"时间戳",prop:"timestamp"},{default:p((()=>[i(r,{modelValue:h.ruleForm.timestamp,"onUpdate:modelValue":l[4]||(l[4]=e=>h.ruleForm.timestamp=e),placeholder:"输入或获取时间戳",clearable:""},{append:p((()=>[i(N,{onClick:M},{default:p((()=>[c("获取")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(j,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[i(s,{label:"随机数",prop:"nonce"},{default:p((()=>[i(r,{modelValue:h.ruleForm.nonce,"onUpdate:modelValue":l[5]||(l[5]=e=>h.ruleForm.nonce=e),placeholder:"输入或获取随机数",clearable:""},{append:p((()=>[i(N,{onClick:F},{default:p((()=>[c("获取")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(j,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[i(s,{label:"签名",prop:"sign"},{default:p((()=>[i(r,{modelValue:h.sign,"onUpdate:modelValue":l[6]||(l[6]=e=>h.sign=e),placeholder:"填写信息后自动生成",readonly:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-730f6ce8"]]);export{M as default};

import{d as e,r as l,j as a,ah as t,o as s,c as r,V as o,P as u,a as i,U as m,u as d,T as n,Q as p,F as g,a8 as c,W as v,O as f}from"./@vue-CX_mlhJe.js";import{g as j}from"./dict-utils-LXnBJ9wT.js";import{d as b,a as y,u as h,g as _,b as x,G as V,E as k,s as w,c as R}from"./netSearch-R0ZFwHor.js";import{E as q}from"./element-plus-B9gGnqkL.js";import{_ as T}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-DWGcUZYU.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./request-Cv12-fnH.js";const U={class:"netSearch-container"},$={style:{color:"#fff"}},B={class:"dialog-footer"},C=T(e({__name:"editDialog",props:{title:{type:String,default:""}},emits:["reloadTable"],setup(e,{expose:T,emit:C}){var G=e;const S=C,O=l(),W=l(!1),z=l({}),D=l([]),N=l([]),E=l([]),F=l({engineType:[{required:!0,message:"请选择引擎类型！",trigger:"change"}],prompt:[{required:!0,message:"请输入提示词！",trigger:"blur"}],language:[{required:!0,message:"请选择语言！",trigger:"change"}],region:[{required:!0,message:"请选择地区！",trigger:"change"}],timeRange:[{required:!0,message:"请选择时间范围！",trigger:"change"}]});a((()=>{}));const L=()=>{W.value=!1},I=async()=>{F.value.urls=[{required:!0,message:"请选择搜索结果！",trigger:"change"}],O.value.validate((async(e,l)=>{if(e){let e=z.value;null==z.value.id||null==z.value.id||""==z.value.id||0==z.value.id?await y(e):await h(e),S("reloadTable"),W.value=!1}else q({message:`表单有${Object.keys(l).length}处验证失败，请修改后再提交`,type:"error"})}))},J=async()=>{if(z.value.keyWord){let e=z.value.keyWord;await _(e).then((e=>{z.value.prompt=e.data.result,q({message:"生成完成",type:"success"})}))}else q({message:"请输入搜索关键字",type:"error"})},P=e=>{switch(e){case x.Bing:V({type:k.BingLanguage}).then((e=>{D.value=e.data.result})),V({type:k.BingRegion}).then((e=>{N.value=e.data.result}));case x.Google:V({type:k.GoogleLanguage}).then((e=>{D.value=e.data.result})),V({type:k.GoogleRegion}).then((e=>{N.value=e.data.result}));break;default:D.value=[],N.value=[]}},Q=e=>{z.value.engineType==x.Bing?e&&V({type:k.BingRegion,lang:e}).then((e=>{N.value=e.data.result})):V({type:k.BingRegion}).then((e=>{N.value=e.data.result}))},K=async()=>{F.value.urls=[{required:!1,message:"请选择搜索结果！",trigger:"change"}],O.value.validate((async(e,l)=>{if(e){let e=z.value;switch(e.engineType){case x.Bing:R(e.prompt,e.language,e.region,e.timeRange).then((e=>{let l=e.data.result;E.value=l}));break;case x.Google:w(e.prompt,e.language,e.region,e.timeRange).then((e=>{let l=e.data.result;E.value=l}))}}else q({message:`表单有${Object.keys(l).length}处验证失败，请修改后再搜索`,type:"error"})}))};return T({openDialog:async e=>{let l=JSON.parse(JSON.stringify(e));l.id?z.value=(await b(l.id)).data.result:z.value=l,W.value=!0}}),(e,l)=>{const a=t("el-input"),b=t("el-form-item"),y=t("el-col"),h=t("el-button"),_=t("el-option"),x=t("el-select"),V=t("el-row"),k=t("el-checkbox"),w=t("el-checkbox-group"),R=t("el-form"),q=t("el-dialog");return s(),r("div",U,[o(q,{modelValue:W.value,"onUpdate:modelValue":l[8]||(l[8]=e=>W.value=e),width:800,draggable:"","close-on-click-modal":!1},{header:u((()=>[i("div",$,[i("span",null,m(d(G).title),1)])])),footer:u((()=>[i("span",B,[o(h,{onClick:L},{default:u((()=>[n("取 消")])),_:1}),o(h,{type:"primary",onClick:I},{default:u((()=>[n("确 定")])),_:1})])])),default:u((()=>[o(R,{model:z.value,ref_key:"ruleFormRef",ref:O,"label-width":"auto",rules:F.value},{default:u((()=>[o(V,{gutter:35},{default:u((()=>[p(o(b,null,{default:u((()=>[o(a,{modelValue:z.value.id,"onUpdate:modelValue":l[0]||(l[0]=e=>z.value.id=e)},null,8,["modelValue"])])),_:1},512),[[v,!1]]),o(y,{xs:24,sm:18,md:18,lg:18,xl:18,class:"mb20"},{default:u((()=>[o(b,{label:"搜索关键字"},{default:u((()=>[o(a,{modelValue:z.value.keyWord,"onUpdate:modelValue":l[1]||(l[1]=e=>z.value.keyWord=e),placeholder:"请输入搜索关键字",maxlength:"500","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),o(y,{xs:24,sm:6,md:6,lg:6,xl:6,class:"mb20"},{default:u((()=>[o(b,{label:""},{default:u((()=>[o(h,{type:"primary",plain:"",onClick:J},{default:u((()=>[n("生成提示词")])),_:1})])),_:1})])),_:1}),o(y,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:u((()=>[o(b,{label:"提示词",prop:"prompt"},{default:u((()=>[o(a,{modelValue:z.value.prompt,"onUpdate:modelValue":l[2]||(l[2]=e=>z.value.prompt=e),placeholder:"请输入提示词",type:"textarea",maxlength:"500","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),o(y,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:u((()=>[o(b,{label:"引擎类型",prop:"engineType"},{default:u((()=>[o(x,{onChange:P,clearable:"",modelValue:z.value.engineType,"onUpdate:modelValue":l[3]||(l[3]=e=>z.value.engineType=e),placeholder:"请选择引擎类型"},{default:u((()=>[(s(!0),r(g,null,c(d(j)("ssyq"),((e,l)=>(s(),f(_,{key:l,value:Number(e.code),label:`[${e.code}] ${e.value}`},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),o(y,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:u((()=>[o(b,{label:"语言",prop:"language"},{default:u((()=>[o(x,{onChange:Q,clearable:"",modelValue:z.value.language,"onUpdate:modelValue":l[4]||(l[4]=e=>z.value.language=e),placeholder:"请选择语言",filterable:""},{default:u((()=>[(s(!0),r(g,null,c(D.value,((e,l)=>(s(),f(_,{key:l,value:e.code,label:`[${e.code}] ${e.name}`},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),o(y,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:u((()=>[o(b,{label:"地区",prop:"region"},{default:u((()=>[o(x,{clearable:"",modelValue:z.value.region,"onUpdate:modelValue":l[5]||(l[5]=e=>z.value.region=e),placeholder:"请选择地区",filterable:""},{default:u((()=>[(s(!0),r(g,null,c(N.value,((e,l)=>(s(),f(_,{key:l,value:e.code,label:`[${e.code}] ${e.name}`},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),o(y,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:u((()=>[o(b,{label:"时间范围",prop:"timeRange"},{default:u((()=>[o(x,{clearable:"",modelValue:z.value.timeRange,"onUpdate:modelValue":l[6]||(l[6]=e=>z.value.timeRange=e),placeholder:"请选择时间范围"},{default:u((()=>[(s(!0),r(g,null,c(d(j)("sjfw"),((e,l)=>(s(),f(_,{key:l,value:e.code,label:`[${e.code}] ${e.value}`},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(V,{justify:"center"},{default:u((()=>[o(y,{xs:24,sm:2,md:2,lg:2,xl:2,class:"mb20",justify:"center"},{default:u((()=>[o(b,{label:""},{default:u((()=>[o(h,{type:"primary",plain:"",style:{padding:"0 30px 0 30px"},onClick:K},{default:u((()=>[n("搜索")])),_:1})])),_:1})])),_:1})])),_:1}),o(V,null,{default:u((()=>[o(y,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20",justify:"center"},{default:u((()=>[o(b,{label:"搜索结果",prop:"urls"},{default:u((()=>[o(w,{modelValue:z.value.urls,"onUpdate:modelValue":l[7]||(l[7]=e=>z.value.urls=e)},{default:u((()=>[(s(!0),r(g,null,c(E.value,((e,l)=>(s(),f(k,{label:e.title,value:e.link},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-bef1a2de"]]);export{C as default};

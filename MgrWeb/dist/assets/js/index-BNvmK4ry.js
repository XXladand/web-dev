import{S as e,_ as a}from"./editPlugin.vue_vue_type_script_setup_true_name_sysEditPlugin_lang-BynZXjWx.js";import{_ as t}from"./modifyRecord.vue_vue_type_script_setup_true_lang-BJJtdc8n.js";import{g as l}from"./index-DWGcUZYU.js";import{c as o,E as i}from"./element-plus-B9gGnqkL.js";import{d as r,r as s,_ as n,j as p,ah as m,ap as u,o as d,c as g,V as c,P as j,Q as f,O as y,T as v}from"./@vue-CX_mlhJe.js";import"./monaco-editor-CQECKOpe.js";import"./jspdf-CH-AZmyM.js";import"./@babel-Q_QrznUx.js";import"./fflate-B3Xb404m.js";import"./axios-CURSphCx.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";const P={class:"sys-plugin-container"},b=r({name:"sysPlugin"}),_=r({...b,setup(r){const b=s(),_=n({loading:!1,pluginData:[],queryParams:{name:void 0},tableParams:{page:1,pageSize:20,total:0},editPluginTitle:""});p((async()=>{h()}));const h=async()=>{var a,t;_.loading=!0;let o=Object.assign(_.queryParams,_.tableParams);var i=await l(e).apiSysPluginPagePost(o);_.pluginData=(null==(a=i.data.result)?void 0:a.items)??[],_.tableParams.total=null==(t=i.data.result)?void 0:t.total,_.loading=!1},w=()=>{_.queryParams.name=void 0,h()},k=()=>{var e;_.editPluginTitle="添加动态插件",null==(e=b.value)||e.openDialog({orderNo:100,status:1})},z=e=>{_.tableParams.pageSize=e,h()},x=e=>{_.tableParams.page=e,h()};return(r,s)=>{const n=m("el-input"),p=m("el-form-item"),C=m("el-button"),S=m("el-button-group"),q=m("el-form"),D=m("el-card"),T=m("el-table-column"),V=m("el-tag"),E=m("el-table"),N=m("el-pagination"),R=u("auth"),U=u("loading");return d(),g("div",P,[c(D,{shadow:"hover","body-style":{paddingBottom:"0"}},{default:j((()=>[c(q,{model:_.queryParams,ref:"queryForm",inline:!0},{default:j((()=>[c(p,{label:"功能名称"},{default:j((()=>[c(n,{modelValue:_.queryParams.name,"onUpdate:modelValue":s[0]||(s[0]=e=>_.queryParams.name=e),placeholder:"功能名称",clearable:""},null,8,["modelValue"])])),_:1}),c(p,null,{default:j((()=>[c(S,null,{default:j((()=>[f((d(),y(C,{type:"primary",icon:"ele-Search",onClick:h},{default:j((()=>[v(" 查询 ")])),_:1})),[[R,"sysPlugin:page"]]),c(C,{icon:"ele-Refresh",onClick:w},{default:j((()=>[v(" 重置 ")])),_:1})])),_:1})])),_:1}),c(p,null,{default:j((()=>[f((d(),y(C,{type:"primary",icon:"ele-Plus",onClick:k},{default:j((()=>[v(" 新增 ")])),_:1})),[[R,"sysPlugin:add"]])])),_:1})])),_:1},8,["model"])])),_:1}),c(D,{class:"full-table",shadow:"hover",style:{"margin-top":"5px"}},{default:j((()=>[f((d(),y(E,{data:_.pluginData,style:{width:"100%"},border:""},{default:j((()=>[c(T,{type:"index",label:"序号",width:"55",align:"center",fixed:""}),c(T,{prop:"name",label:"功能名称","header-align":"center","show-overflow-tooltip":""}),c(T,{prop:"assemblyName",label:"程序集名称","header-align":"center","show-overflow-tooltip":""}),c(T,{prop:"orderNo",label:"排序",width:"70",align:"center","show-overflow-tooltip":""}),c(T,{label:"状态",width:"70",align:"center","show-overflow-tooltip":""},{default:j((e=>[1===e.row.status?(d(),y(V,{key:0,type:"success"},{default:j((()=>[v("启用")])),_:1})):(d(),y(V,{key:1,type:"danger"},{default:j((()=>[v("禁用")])),_:1}))])),_:1}),c(T,{label:"修改记录",width:"100",align:"center","show-overflow-tooltip":""},{default:j((e=>[c(t,{data:e.row},null,8,["data"])])),_:1}),c(T,{label:"操作",width:"140",fixed:"right",align:"center","show-overflow-tooltip":""},{default:j((a=>[f((d(),y(C,{icon:"ele-Edit",size:"small",text:"",type:"primary",onClick:e=>{return t=a.row,_.editPluginTitle="编辑动态插件",void(null==(l=b.value)||l.openDialog(t));var t,l}},{default:j((()=>[v(" 编辑 ")])),_:2},1032,["onClick"])),[[R,"sysPlugin:update"]]),f((d(),y(C,{icon:"ele-Delete",size:"small",text:"",type:"danger",onClick:t=>{return r=a.row,void o.confirm(`确定删除动态插件：【${r.name}】?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await l(e).apiSysPluginDeletePost({id:r.id}),h(),i.success("删除成功")})).catch((()=>{}));var r}},{default:j((()=>[v(" 删除 ")])),_:2},1032,["onClick"])),[[R,"sysPlugin:delete"]])])),_:1})])),_:1},8,["data"])),[[U,_.loading]]),c(N,{currentPage:_.tableParams.page,"onUpdate:currentPage":s[1]||(s[1]=e=>_.tableParams.page=e),"page-size":_.tableParams.pageSize,"onUpdate:pageSize":s[2]||(s[2]=e=>_.tableParams.pageSize=e),total:_.tableParams.total,"page-sizes":[10,20,50,100],size:"small",background:"",onSizeChange:z,onCurrentChange:x,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])])),_:1}),c(a,{ref_key:"editPluginRef",ref:b,title:_.editPluginTitle,onHandleQuery:h},null,8,["title"])])}}});export{_ as default};

import{d as e,r as l,_ as a,j as o,ah as r,o as t,c as s,V as m,P as i,a as u,U as p,u as d,T as n,Q as c,F as g,a8 as j,W as f,O as b}from"./@vue-CX_mlhJe.js";import{g as v}from"./index-DWGcUZYU.js";import{A as h}from"./approval-flow-api-BPCG1yJd.js";import{E as _}from"./element-plus-B9gGnqkL.js";import{_ as w}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";const F={class:"labApprovalFlow-container"},x={style:{color:"#fff"}},V={class:"dialog-footer"},y=w(e({__name:"editDialog",props:{title:{type:String,default:""},labStatus:{type:Array,default:()=>[]}},emits:["reloadTable"],setup(e,{expose:w,emit:y}){const k=l([]);var D=e;const U=y,S=l(),J=a({loading:!1,isShowDialog:!1,ruleForm:{}}),A=l({name:[{pattern:/^(?!^[0-9].*$).*/,message:"不能以数字开头",trigger:"blur"}]});o((async()=>{}));const z=()=>{J.isShowDialog=!1},$=async()=>{S.value.validate((async(e,l)=>{e?(null==J.ruleForm.id||null==J.ruleForm.id||0==J.ruleForm.id?await v(h).apiApprovalFlowAddPost(J.ruleForm):await v(h).apiApprovalFlowUpdatePost(J.ruleForm),U("reloadTable"),J.isShowDialog=!1):_({message:`表单有${Object.keys(l).length}处验证失败，请修改后再提交`,type:"error"})}))};return w({openDialog:async e=>{let l=JSON.parse(JSON.stringify(e));J.ruleForm=l.id?(await v(h).apiApprovalFlowDetailGet(l.id)).data.result:l,J.isShowDialog=!0}}),(e,l)=>{const a=r("ele-Edit"),o=r("el-icon"),v=r("el-input"),h=r("el-form-item"),_=r("el-col"),w=r("el-option"),y=r("el-select"),U=r("el-row"),q=r("el-tab-pane"),N=r("el-tabs"),O=r("el-form"),P=r("el-button"),T=r("el-dialog");return t(),s("div",F,[m(T,{modelValue:J.isShowDialog,"onUpdate:modelValue":l[7]||(l[7]=e=>J.isShowDialog=e),width:800,draggable:""},{header:i((()=>[u("div",x,[m(o,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:i((()=>[m(a)])),_:1}),u("span",null,p(d(D).title),1)])])),footer:i((()=>[u("span",V,[m(P,{onClick:z},{default:i((()=>[n("取 消")])),_:1}),m(P,{type:"primary",onClick:$},{default:i((()=>[n("确 定")])),_:1})])])),default:i((()=>[m(O,{model:J.ruleForm,ref_key:"ruleFormRef",ref:S,"label-width":"auto",rules:A.value},{default:i((()=>[m(N,null,{default:i((()=>[m(q,{label:"基本信息"},{default:i((()=>[m(U,{gutter:35},{default:i((()=>[c(m(h,null,{default:i((()=>[m(v,{modelValue:J.ruleForm.id,"onUpdate:modelValue":l[0]||(l[0]=e=>J.ruleForm.id=e)},null,8,["modelValue"])])),_:1},512),[[f,!1]]),m(_,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:i((()=>[m(h,{label:"编号",prop:"code"},{default:i((()=>[m(v,{modelValue:J.ruleForm.code,"onUpdate:modelValue":l[1]||(l[1]=e=>J.ruleForm.code=e),placeholder:"请输入编号",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(_,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:i((()=>[m(h,{label:"名称",prop:"name",rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]},{default:i((()=>[m(v,{modelValue:J.ruleForm.name,"onUpdate:modelValue":l[2]||(l[2]=e=>J.ruleForm.name=e),placeholder:"请输入名称",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(_,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:i((()=>[m(h,{label:"状态",prop:"status",rules:[{required:!0,message:"状态不能为空",trigger:"blur"}]},{default:i((()=>[m(y,{clearable:"",modelValue:J.ruleForm.status,"onUpdate:modelValue":l[3]||(l[3]=e=>J.ruleForm.status=e),placeholder:"请选择状态"},{default:i((()=>[(t(!0),s(g,null,j(k.value,((e,l)=>(t(),b(w,{key:l,value:e.value,label:`${e.describe} [${e.value}]`},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),m(_,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:i((()=>[m(h,{label:"备注",prop:"remark"},{default:i((()=>[m(v,{modelValue:J.ruleForm.remark,"onUpdate:modelValue":l[4]||(l[4]=e=>J.ruleForm.remark=e),placeholder:"请输入备注",type:"textarea",maxlength:"255","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),m(q,{label:"扩展信息"},{default:i((()=>[m(U,{gutter:35},{default:i((()=>[m(_,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:i((()=>[m(h,{label:"表单",prop:"formJson"},{default:i((()=>[m(v,{modelValue:J.ruleForm.formJson,"onUpdate:modelValue":l[5]||(l[5]=e=>J.ruleForm.formJson=e),placeholder:"请输入表单",type:"textarea",maxlength:"0","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(_,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:i((()=>[m(h,{label:"流程",prop:"flowJson"},{default:i((()=>[m(v,{modelValue:J.ruleForm.flowJson,"onUpdate:modelValue":l[6]||(l[6]=e=>J.ruleForm.flowJson=e),placeholder:"请输入流程",type:"textarea",maxlength:"0","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-7e780d20"]]);export{y as default};

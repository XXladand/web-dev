import{M as e,E as o}from"./@element-plus-BOmeTCVz.js";import{g as t}from"./index-DWGcUZYU.js";import{S as s}from"./sys-region-api-DtEAfRk1.js";import{d as a,r,_ as i,j as l,w as d,ah as n,ap as m,o as p,O as c,P as u,a as j,V as g,u as f,T as v,Q as h,c as y}from"./@vue-CX_mlhJe.js";import{_}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./pinia-CUaEdNPK.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-router-DCQgfElv.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";const x={class:"card-header"},k={class:"tree-h-flex"},b={class:"tree-h-left"},w={class:"tree-h-right"},A={style:{"margin-bottom":"45px"}},N=_(a({__name:"regionTree",emits:["node-click"],setup(a,{expose:_,emit:N}){const D=r(""),z=r(),C=i({loading:!1,regionData:[]});l((()=>{V()})),d(D,(e=>{z.value.filter(e)}));const V=async()=>{C.loading=!0;var e=await t(s).apiSysRegionListGet(0);C.regionData=e.data.result??[],C.loading=!1},T=async(e,o)=>{if(null!=e.data&&!Array.isArray(e.data)){C.loading=!0;var a=(await t(s).apiSysRegionListGet(e.data.id)).data.result??[];C.loading=!1,o(a)}},G=(e,o)=>!e||o.name.includes(e),K=async e=>{if("expandAll"==e)for(let o=0;o<z.value.store._getAllNodes().length;o++)z.value.store._getAllNodes()[o].expanded=!0;else if("collapseAll"==e)for(let o=0;o<z.value.store._getAllNodes().length;o++)z.value.store._getAllNodes()[o].expanded=!1;else"refresh"==e?V():"rootNode"==e&&L("node-click",{id:0,name:""})},L=N,R=e=>{L("node-click",{id:e.id,name:e.name})};return _({initTreeData:V,getCheckedKeys:()=>z.value.getCheckedKeys()}),(t,s)=>{const a=n("el-input"),r=n("el-icon"),i=n("el-button"),l=n("el-dropdown-item"),d=n("el-dropdown-menu"),_=n("el-dropdown"),N=n("el-tree"),V=n("el-card"),L=m("loading");return p(),c(V,{class:"box-card",shadow:"hover",style:{height:"100%"},"body-style":"height:100%; overflow:auto"},{header:u((()=>[j("div",x,[j("div",k,[j("div",b,[g(a,{"prefix-icon":f(e),modelValue:D.value,"onUpdate:modelValue":s[0]||(s[0]=e=>D.value=e),placeholder:"行政区域名称"},null,8,["prefix-icon","modelValue"])]),j("div",w,[g(_,{onCommand:K},{dropdown:u((()=>[g(d,null,{default:u((()=>[g(l,{command:"expandAll"},{default:u((()=>[v("全部展开")])),_:1}),g(l,{command:"collapseAll"},{default:u((()=>[v("全部折叠")])),_:1}),g(l,{command:"rootNode"},{default:u((()=>[v("根节点")])),_:1}),g(l,{command:"refresh"},{default:u((()=>[v("刷新")])),_:1})])),_:1})])),default:u((()=>[g(i,{style:{"margin-left":"8px",width:"34px"}},{default:u((()=>[g(r,{class:"el-icon--center"},{default:u((()=>[g(f(o))])),_:1})])),_:1})])),_:1})])])])])),default:u((()=>[h((p(),y("div",A,[g(N,{ref_key:"treeRef",ref:z,class:"filter-tree",data:C.regionData,"node-key":"id",props:{children:"children",label:"name"},"filter-node-method":G,onNodeClick:R,"highlight-current":"","check-strictly":"",accordion:"",lazy:"",load:T},null,8,["data"])])),[[L,C.loading]])])),_:1})}}}),[["__scopeId","data-v-e16f46e7"]]);export{N as default};

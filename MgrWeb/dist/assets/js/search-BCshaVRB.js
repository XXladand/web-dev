import{b as e}from"./vue-router-DCQgfElv.js";import{v as s}from"./vue-i18n-DOLUIXgH.js";import{s as o}from"./pinia-CUaEdNPK.js";import{c as t}from"./index-DWGcUZYU.js";import{d as i,r,_ as a,ah as m,o as p,c as l,V as u,P as n,a as j,T as c,U as d,n as h}from"./@vue-CX_mlhJe.js";import{_ as f}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./@intlify-8Jop7_C0.js";import"./@babel-Q_QrznUx.js";import"./vue-DMOwXDUL.js";import"./vue-demi-DMxTsK9-.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";const g={class:"layout-search-dialog"},v=i({name:"layoutBreadcrumbSearch"}),w=f(i({...v,setup(i,{expose:f}){const v=t(),{tagsViewRoutes:w}=o(v),y=r(),{t:S}=s.useI18n(),V=e(),L=a({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),_=(e,s)=>{s(e?L.tagsViewList.filter(x(e)):L.tagsViewList)},x=e=>s=>s.path.toLowerCase().indexOf(e.toLowerCase())>-1||s.meta.title.toLowerCase().indexOf(e.toLowerCase())>-1||S(s.meta.title).indexOf(e.toLowerCase())>-1,b=()=>{if(L.tagsViewList.length>0)return!1;w.value.map((e=>{var s;(null==(s=e.meta)?void 0:s.isHide)||1===e.type||L.tagsViewList.push({...e})}))},k=e=>{var s,o,t;let{path:i,redirect:r}=e;(null==(s=e.meta)?void 0:s.isLink)&&!(null==(o=e.meta)?void 0:o.isIframe)?window.open(null==(t=e.meta)?void 0:t.isLink):r?V.push(r):V.push(i),L.isShowSearch=!1};return f({openSearch:()=>{L.menuQuery="",L.isShowSearch=!0,b(),h((()=>{setTimeout((()=>{y.value.focus()}))}))}}),(e,s)=>{const o=m("ele-Search"),t=m("el-icon"),i=m("SvgIcon"),r=m("el-autocomplete"),a=m("el-dialog");return p(),l("div",g,[u(a,{modelValue:L.isShowSearch,"onUpdate:modelValue":s[1]||(s[1]=e=>L.isShowSearch=e),"destroy-on-close":"","show-close":!1},{footer:n((()=>[u(r,{modelValue:L.menuQuery,"onUpdate:modelValue":s[0]||(s[0]=e=>L.menuQuery=e),"fetch-suggestions":_,placeholder:e.$t("message.user.searchPlaceholder"),ref_key:"layoutMenuAutocompleteRef",ref:y,onSelect:k,"fit-input-width":!0},{prefix:n((()=>[u(t,{class:"el-input__icon"},{default:n((()=>[u(o)])),_:1})])),default:n((({item:s})=>[j("div",null,[u(i,{name:s.meta.icon,class:"mr5"},null,8,["name"]),c(" "+d(e.$t(s.meta.title)),1)])])),_:1},8,["modelValue","placeholder"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-f00c65a2"]]);export{w as default};

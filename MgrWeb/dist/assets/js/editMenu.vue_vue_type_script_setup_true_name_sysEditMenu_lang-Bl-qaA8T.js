import{_ as l}from"./index.vue_vue_type_script_setup_true_name_iconSelector_lang-Bt5ZQH5T.js";import{o as e,g as a,r as u}from"./index-DWGcUZYU.js";import{d as o,r as d,_ as r,k as m,ah as t,o as s,c as i,V as n,P as p,a as f,U as c,T as _,S as V,F as b}from"./@vue-CX_mlhJe.js";const F={class:"sys-menu-container"},g={style:{color:"#fff"}},x={key:0},h={class:"dialog-footer"},y=o({name:"sysEditMenu"}),v=o({...y,props:{title:String,menuData:Array},emits:["handleQuery"],setup(o,{expose:y,emit:v}){const U=o,S=v,w=d(),k=r({isShowDialog:!1,ruleForm:{}}),D=m((()=>e.globalComponentSize())),A=()=>{k.isShowDialog=!1},N=()=>{w.value.validate((async l=>{l&&(null!=k.ruleForm.id&&k.ruleForm.id>0?await a(u).apiSysMenuUpdatePost(k.ruleForm):await a(u).apiSysMenuAddPost(k.ruleForm),S("handleQuery"),k.isShowDialog=!1)}))};return y({openDialog:l=>{var e;k.ruleForm=JSON.parse(JSON.stringify(l)),k.isShowDialog=!0,null==(e=w.value)||e.resetFields()}}),(e,a)=>{const u=t("ele-Edit"),o=t("el-icon"),d=t("el-cascader"),r=t("el-form-item"),m=t("el-col"),y=t("el-radio"),v=t("el-radio-group"),S=t("el-input"),z=t("el-input-number"),P=t("el-row"),j=t("el-form"),C=t("el-button"),L=t("el-dialog");return s(),i("div",F,[n(L,{modelValue:k.isShowDialog,"onUpdate:modelValue":a[18]||(a[18]=l=>k.isShowDialog=l),draggable:"","close-on-click-modal":!1,width:"700px"},{header:p((()=>[f("div",g,[n(o,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:p((()=>[n(u)])),_:1}),f("span",null,c(U.title),1)])])),footer:p((()=>[f("span",h,[n(C,{onClick:A},{default:p((()=>[_("取 消")])),_:1}),n(C,{type:"primary",onClick:N},{default:p((()=>[_("确 定")])),_:1})])])),default:p((()=>[n(j,{model:k.ruleForm,ref_key:"ruleFormRef",ref:w,"label-width":"auto"},{default:p((()=>[n(P,{gutter:35},{default:p((()=>[n(m,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[n(r,{label:"上级菜单"},{default:p((()=>[n(d,{options:U.menuData,props:{checkStrictly:!0,emitPath:!1,value:"id",label:"title"},placeholder:"请选择上级菜单",clearable:"",class:"w100",modelValue:k.ruleForm.pid,"onUpdate:modelValue":a[0]||(a[0]=l=>k.ruleForm.pid=l)},{default:p((({node:l,data:e})=>[f("span",null,c(e.title),1),l.isLeaf?V("",!0):(s(),i("span",x," ("+c(e.children.length)+") ",1))])),_:1},8,["options","modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[n(r,{label:"菜单类型",prop:"type",rules:[{required:!0,message:"菜单类型不能为空",trigger:"blur"}]},{default:p((()=>[n(v,{modelValue:k.ruleForm.type,"onUpdate:modelValue":a[1]||(a[1]=l=>k.ruleForm.type=l)},{default:p((()=>[n(y,{value:1},{default:p((()=>[_("目录")])),_:1}),n(y,{value:2},{default:p((()=>[_("菜单")])),_:1}),n(y,{value:3},{default:p((()=>[_("按钮")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"菜单名称",prop:"title",rules:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}]},{default:p((()=>[n(S,{modelValue:k.ruleForm.title,"onUpdate:modelValue":a[2]||(a[2]=l=>k.ruleForm.title=l),placeholder:"菜单名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),1===k.ruleForm.type||2===k.ruleForm.type?(s(),i(b,{key:0},[n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"路由名称"},{default:p((()=>[n(S,{modelValue:k.ruleForm.name,"onUpdate:modelValue":a[3]||(a[3]=l=>k.ruleForm.name=l),placeholder:"路由名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"路由路径"},{default:p((()=>[n(S,{modelValue:k.ruleForm.path,"onUpdate:modelValue":a[4]||(a[4]=l=>k.ruleForm.path=l),placeholder:"路由路径",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"组件路径"},{default:p((()=>[n(S,{modelValue:k.ruleForm.component,"onUpdate:modelValue":a[5]||(a[5]=l=>k.ruleForm.component=l),placeholder:"组件路径",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"菜单图标"},{default:p((()=>[n(l,{modelValue:k.ruleForm.icon,"onUpdate:modelValue":a[6]||(a[6]=l=>k.ruleForm.icon=l),size:D.value,placeholder:"菜单图标",type:"all"},null,8,["modelValue","size"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"重定向"},{default:p((()=>[n(S,{modelValue:k.ruleForm.redirect,"onUpdate:modelValue":a[7]||(a[7]=l=>k.ruleForm.redirect=l),placeholder:"重定向地址",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"链接地址"},{default:p((()=>[n(S,{modelValue:k.ruleForm.outLink,"onUpdate:modelValue":a[8]||(a[8]=l=>k.ruleForm.outLink=l),placeholder:"外链/内嵌时链接地址",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"菜单排序"},{default:p((()=>[n(z,{modelValue:k.ruleForm.orderNo,"onUpdate:modelValue":a[9]||(a[9]=l=>k.ruleForm.orderNo=l),placeholder:"排序",class:"w100"},null,8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"是否隐藏"},{default:p((()=>[n(v,{modelValue:k.ruleForm.isHide,"onUpdate:modelValue":a[10]||(a[10]=l=>k.ruleForm.isHide=l)},{default:p((()=>[n(y,{value:!0},{default:p((()=>[_("隐藏")])),_:1}),n(y,{value:!1},{default:p((()=>[_("不隐藏")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"是否缓存"},{default:p((()=>[n(v,{modelValue:k.ruleForm.isKeepAlive,"onUpdate:modelValue":a[11]||(a[11]=l=>k.ruleForm.isKeepAlive=l)},{default:p((()=>[n(y,{value:!0},{default:p((()=>[_("缓存")])),_:1}),n(y,{value:!1},{default:p((()=>[_("不缓存")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"是否固定"},{default:p((()=>[n(v,{modelValue:k.ruleForm.isAffix,"onUpdate:modelValue":a[12]||(a[12]=l=>k.ruleForm.isAffix=l)},{default:p((()=>[n(y,{value:!0},{default:p((()=>[_("固定")])),_:1}),n(y,{value:!1},{default:p((()=>[_("不固定")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"是否内嵌"},{default:p((()=>[n(v,{modelValue:k.ruleForm.isIframe,"onUpdate:modelValue":a[13]||(a[13]=l=>k.ruleForm.isIframe=l)},{default:p((()=>[n(y,{value:!0},{default:p((()=>[_("内嵌")])),_:1}),n(y,{value:!1},{default:p((()=>[_("不内嵌")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})],64)):V("",!0),3===k.ruleForm.type?(s(),i(b,{key:1},[n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"权限标识"},{default:p((()=>[n(S,{modelValue:k.ruleForm.permission,"onUpdate:modelValue":a[14]||(a[14]=l=>k.ruleForm.permission=l),placeholder:"权限标识",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"菜单排序"},{default:p((()=>[n(z,{modelValue:k.ruleForm.orderNo,"onUpdate:modelValue":a[15]||(a[15]=l=>k.ruleForm.orderNo=l),placeholder:"排序",class:"w100"},null,8,["modelValue"])])),_:1})])),_:1})],64)):V("",!0),n(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p((()=>[n(r,{label:"是否启用"},{default:p((()=>[n(v,{modelValue:k.ruleForm.status,"onUpdate:modelValue":a[16]||(a[16]=l=>k.ruleForm.status=l)},{default:p((()=>[n(y,{value:1},{default:p((()=>[_("启用")])),_:1}),n(y,{value:2},{default:p((()=>[_("不启用")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(m,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p((()=>[n(r,{label:"备注"},{default:p((()=>[n(S,{modelValue:k.ruleForm.remark,"onUpdate:modelValue":a[17]||(a[17]=l=>k.ruleForm.remark=l),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}});export{v as _};

import{u as e,b as t,o as s}from"./vue-router-DCQgfElv.js";import{s as i}from"./pinia-CUaEdNPK.js";import{z as l,u as o,e as r}from"./index-DWGcUZYU.js";import{d as n,r as a,_ as m,j as u,Z as d,w as c,ah as p,o as v,c as j,a as h,u as f,V as g,P as C,F as y,a8 as k,J as x,U as I,n as b}from"./@vue-CX_mlhJe.js";import{_ as A}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./vue-demi-DMxTsK9-.js";import"./vue-DMOwXDUL.js";import"./@babel-Q_QrznUx.js";import"./jspdf-CH-AZmyM.js";import"./fflate-B3Xb404m.js";import"./vue-i18n-DOLUIXgH.js";import"./@intlify-8Jop7_C0.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-BOmeTCVz.js";import"./nprogress-BXoedg-7.js";import"./axios-CURSphCx.js";import"./element-plus-B9gGnqkL.js";import"./lodash-es-Bx2dc0Qf.js";import"./@vueuse-DXufPiA3.js";import"./@sxzz-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-DCN6noHZ.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DHjS97uh.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-DUD0Qdrs.js";import"./vform3-builds-n_pM9nIF.js";import"./vue-signature-pad-lyh4QR3Z.js";import"./signature_pad-edH0THtw.js";import"./merge-images-Cwm9rL5U.js";import"./vue3-tree-org-BzkJto3m.js";/* empty css                    */import"./vue-plugin-hiprint-DZDwPE-S.js";import"./jquery-VSNIoD5U.js";import"./jsbarcode-BgYCXnWS.js";import"./socket.io-client-Czs-wWz3.js";import"./engine.io-client-CYjl6Vq_.js";import"./engine.io-parser-BcOgFIoq.js";import"./@socket.io-mcuM6LAc.js";import"./debug-CmirTkX5.js";import"./ms-CufoL-nS.js";import"./socket.io-parser-CnrqkM7d.js";import"./canvg-FiHv1N34.js";import"./core-js-BJmvCVxN.js";import"./raf-B8RiLMb0.js";import"./performance-now-D4QiMMAM.js";import"./rgbcolor-Cv9DR9SS.js";import"./svg-pathdata-BQypvdxQ.js";import"./stackblur-canvas-WbqePTkn.js";const S={class:"layout-columns-aside"},L={class:"layout-logo"},H=["src"],$=["onClick","onMouseenter","title"],O={class:"columns-vertical-title font12"},_=["href"],P={class:"columns-vertical-title font12"},M=n({name:"layoutColumnsAside"}),w=A(n({...M,setup(n){const A=a([]),M=a(),w=l(),z=o(),{routesList:D,isColumnsMenuHover:T,isColumnsNavHover:N}=i(w),{themeConfig:U}=i(z),q=e(),F=t(),R=m({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[]}),V=e=>{b((()=>{(e=>{if(void 0===e)return!1;R.liIndex=e,M.value.style.top=`${A.value[e].offsetTop+R.difference}px`})(e)}))},E=e=>{var t,s;const i=G(e);return!(null==(t=i.item)?void 0:t.redirect)&&0==i.children.length||(null==(s=i.item)?void 0:s.redirect)&&i.children.length<=1?U.value.isCollapse=!0:U.value.isCollapse=!1,i},G=e=>{const t=e.split("/");let s={children:[]};return R.columnsAsideList.map(((e,i)=>{e.path===`/${t[1]}`&&(e.k=i,s.item={...e},s.children=[{...e}],e.children&&(s.children=e.children))})),s},J=e=>e.filter((e=>{var t;return!(null==(t=e.meta)?void 0:t.isHide)})).map((e=>((e=Object.assign({},e)).children&&(e.children=J(e.children)),e)));return u((()=>{(()=>{var e;R.columnsAsideList=J(D.value);const t=E(q.path);V(null==(e=t.item)?void 0:e.k),setTimeout((()=>{r.emit("setSendColumnsChildren",t)}),500)})(),r.on("restoreDefault",(()=>{R.liOldIndex=null,R.liOldPath=null}))})),d((()=>{r.off("restoreDefault",(()=>{}))})),s((e=>{const t=E(e.path);(e=>{R.routeSplit=e.split("/"),R.routeSplit.shift();const t=`/${R.routeSplit[0]}`,s=R.columnsAsideList.find((e=>e.path===t));if(!s)return!1;setTimeout((()=>{V(s.k)}),0)})(e.path),r.emit("setSendColumnsChildren",t)})),c([()=>U.value.columnsAsideStyle,T,N],(()=>{if("columnsRound"===U.value.columnsAsideStyle?R.difference=3:R.difference=0,T.value||N.value){if(R.liHoverIndex=R.liOldIndex,!R.liOldPath)return!1;r.emit("setSendColumnsChildren",G(R.liOldPath))}else R.liHoverIndex=null,r.emit("setSendColumnsChildren",G(q.path))}),{deep:!0}),(e,t)=>{const s=p("SvgIcon"),i=p("el-scrollbar");return v(),j("div",S,[h("div",L,[h("img",{src:f(U).logoUrl,class:"layout-logo-medium-img"},null,8,H)]),g(i,null,{default:C((()=>[h("ul",{onMouseleave:t[0]||(t[0]=e=>(async()=>{if(!U.value.isColumnsMenuHoverPreload)return!1;await w.setColumnsNavHover(!1),setTimeout((()=>{T||N||r.emit("restoreDefault")}),100)})())},[(v(!0),j(y,null,k(R.columnsAsideList,((t,i)=>(v(),j("li",{key:i,onClick:e=>(async e=>{var t,s,i;let{path:l,redirect:o}=e;if(o)V(e.k),q.path.startsWith(o)?r.emit("setSendColumnsChildren",G(o)):F.push(o);else if(e.children&&0!==(null==(t=e.children)?void 0:t.length)){const e=G(l);if(Object.keys(e).length<=0)return!1;V(null==(s=e.item)?void 0:s.k),r.emit("setSendColumnsChildren",e)}else F.push(l),V(e.k);e.children&&0!==(null==(i=e.children)?void 0:i.length)?e.children.length>1&&(U.value.isCollapse=!1):U.value.isCollapse=!0})(t),onMouseenter:e=>((e,t)=>{if(!U.value.isColumnsMenuHoverPreload)return!1;let{path:s}=e;R.liOldPath=s,R.liOldIndex=t,R.liHoverIndex=t,r.emit("setSendColumnsChildren",G(s)),w.setColumnsMenuHover(!1),w.setColumnsNavHover(!0)})(t,i),ref_for:!0,ref:e=>{e&&(A.value[i]=e)},class:x({"layout-columns-active":R.liIndex===i,"layout-columns-hover":R.liHoverIndex===i}),title:e.$t(t.meta.title)},[!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?(v(),j("div",{key:0,class:x(f(U).columnsAsideLayout)},[g(s,{name:t.meta.icon},null,8,["name"]),h("div",O,I(e.$t(t.meta.title)&&e.$t(t.meta.title).length>=4?e.$t(t.meta.title).substr(0,"columns-vertical"===f(U).columnsAsideLayout?4:3):e.$t(t.meta.title)),1)],2)):(v(),j("div",{key:1,class:x(f(U).columnsAsideLayout)},[h("a",{href:t.meta.isLink,target:"_blank"},[g(s,{name:t.meta.icon},null,8,["name"]),h("div",P,I(e.$t(t.meta.title)&&e.$t(t.meta.title).length>=4?e.$t(t.meta.title).substr(0,"columns-vertical"===f(U).columnsAsideLayout?4:3):e.$t(t.meta.title)),1)],8,_)],2))],42,$)))),128)),h("div",{ref_key:"columnsAsideActiveRef",ref:M,class:x(f(U).columnsAsideStyle)},null,2)],32)])),_:1})])}}}),[["__scopeId","data-v-932ed586"]]);export{w as default};
